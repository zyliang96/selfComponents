/*! For license information please see history.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.zyliangHistory=t():e.zyliangHistory=t()}(self,(function(){return(()=>{"use strict";var e={"./config/index.js":(e,t,a)=>{a.r(t),a.d(t,{BeforeUnloadEventType:()=>n,HashChangeEventType:()=>o,PopStateEventType:()=>r,actionType:()=>s,enumValueType:()=>i});const n="beforeunload",o="hashchange",r="popstate",s={push:"PUSH",replace:"REPLACE",pop:"POP"},i={object:"Object",array:"Array",basic:"Basic"}},"./node_modules/resolve-pathname/esm/resolve-pathname.js":(e,t,a)=>{function n(e){return"/"===e.charAt(0)}function o(e,t){for(var a=t,n=a+1,o=e.length;n<o;a+=1,n+=1)e[a]=e[n];e.pop()}a.r(t),a.d(t,{default:()=>r});const r=function(e,t){void 0===t&&(t="");var a,r=e&&e.split("/")||[],s=t&&t.split("/")||[],i=e&&n(e),c=t&&n(t),l=i||c;if(e&&n(e)?s=r:r.length&&(s.pop(),s=s.concat(r)),!s.length)return"/";if(s.length){var u=s[s.length-1];a="."===u||".."===u||""===u}else a=!1;for(var h=0,p=s.length;p>=0;p--){var f=s[p];"."===f?o(s,p):".."===f?(o(s,p),h++):h&&(o(s,p),h--)}if(!l)for(;h--;h)s.unshift("..");!l||""===s[0]||s[0]&&n(s[0])||s.unshift("");var d=s.join("/");return a&&"/"!==d.substr(-1)&&(d+="/"),d}},"./src/createBrowserHistory.js":(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a("./utils/index.js"),o=a("./config/index.js"),r=a("./utils/LocationUtils.js");function s(e={}){const{window:t=document.defaultView,isShowBeforeUnload:a=!1}=e,s=e.basename?(0,n.stripTrailingSlash)((0,n.addLeadingSlash)(e.basename)):"",i=t.history,c=(0,n.createEventList)({removeCallback:f}),l=(0,n.createEventList)({isNeedResult:!0,removeCallback:f});let u=o.actionType.pop,h=(0,r.createLocation)({path:t.location,basename:s,state:i.state});function p(e){let a=(0,r.createLocation)({path:t.location,basename:s,state:i.state});(0,r.createPath)(a)!==(0,r.createPath)(h)&&function(e){if(d)d=!1,console.log("blockedPopTx",d);else{const t={action:o.actionType.pop,location:e};if(l.length){if(l.call(t))console.log(h,e),h=e;else{const t=h.state.index-e.state.index;console.log("isNotOk",d,h,e),y(t)}}else m(t)}}(a)}function f(){t.removeEventListener(o.PopStateEventType,p)}t.addEventListener(o.PopStateEventType,p);let d=null;function g(e){const{action:t,location:a}=e;return!l.length||l.call({action:t,location:a})}function m(e){u=e.action,h=e.location,c.call({action:u,location:h})}function y(e){i.go(e)}function b(e){a&&(e.preventDefault(),e.returnValue="")}return{get action(){return u},get location(){return h},createHref:function(e){if("string"==typeof e)return(0,r.createPath)((0,r.createLocation)({path:e,basename:s}))},push:function(e,t){const a=o.actionType.push,n=Object.assign({},t,{index:h.state&&h.state.index+1}),c=(0,r.createLocation)({path:e,state:n,basename:s}),l={action:a,location:c};if(g(l)){try{const e=(0,r.getBaseHref)()+s+(0,r.createPath)(c);i.pushState(n,"",e)}catch(e){console.error(e)}m(l)}},replace:function(e,t){const a=o.actionType.push,n=Object.assign({},t,{index:h.state&&h.state.index}),c=(0,r.createLocation)({path:e,state:n,basename:s}),l={action:a,location:c};if(g(l)){try{const e=(0,r.getBaseHref)()+s+(0,r.createPath)(c);i.replaceState(n,"",e)}catch(e){console.error(e)}m(l)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return c.push(e)},block:function(e){let a=l.push(e);return 1===l.length&&t.addEventListener(o.BeforeUnloadEventType,b),()=>{a(),l.length||t.removeEventListener(o.BeforeUnloadEventType,b)}}}}},"./src/createHashHistory.js":(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a("./utils/index.js"),o=a("./config/index.js"),r=a("./utils/LocationUtils.js");function s(e={}){const{window:t=document.defaultView,isShowBeforeUnload:a=!1}=e,s=e.basename?(0,n.stripTrailingSlash)((0,n.addLeadingSlash)(e.basename)):"",i=t.history,c=(0,n.createEventList)({removeCallback:f}),l=(0,n.createEventList)({isNeedResult:!0,removeCallback:f});let u=o.actionType.pop,h=(0,r.createLocation)({path:t.location.hash.substr(1),basename:s,state:i.state});function p(e){let a=(0,r.createLocation)({path:t.location.hash.substr(1),basename:s,state:i.state});(0,r.createPath)(a)!==(0,r.createPath)(h)&&function(e){{const t={action:o.actionType.pop,location:e};if(l.length){if(l.call(t))h=e;else{m(h.state.index-e.state.index)}}else g(t)}}(a)}function f(){t.removeEventListener(o.HashChangeEventType,p)}t.addEventListener(o.HashChangeEventType,p);function d(e){const{action:t,location:a}=e;return!l.length||l.call({action:t,location:a})}function g(e){u=e.action,h=e.location,c.call({action:u,location:h})}function m(e){i.go(e)}function y(e){a&&(e.preventDefault(),e.returnValue="")}return{get action(){return u},get location(){return h},createHref:function(e){if("string"==typeof e)return(0,r.createPath)((0,r.createLocation)({path:e,basename:s}))},push:function(e,t){const a=o.actionType.push,n=Object.assign({},t,{index:h.state&&h.state.index+1}),c=(0,r.createLocation)({path:e,state:n,basename:s}),l={action:a,location:c};if(d(l)){try{const e=(0,r.getBaseHref)()+"#"+s+(0,r.createPath)(c);i.pushState(n,"",e)}catch(e){console.error(e)}g(l)}},replace:function(e,t){const a=o.actionType.push,n=Object.assign({},t,{index:h.state&&h.state.index}),c=(0,r.createLocation)({path:e,state:n,basename:s}),l={action:a,location:c};if(d(l)){try{const e=(0,r.getBaseHref)()+"#"+s+(0,r.createPath)(c);i.replaceState(n,"",e)}catch(e){console.error(e)}g(l)}},go:m,back:function(){m(-1)},forward:function(){m(1)},listen:function(e){return c.push(e)},block:function(e){let a=l.push(e);return 1===l.length&&t.addEventListener(o.BeforeUnloadEventType,y),()=>{a(),l.length||t.removeEventListener(o.BeforeUnloadEventType,y)}}}}},"./src/index.js":(e,t,a)=>{a.r(t),a.d(t,{createHashHistory:()=>n.default,createBrowserHistory:()=>o.default,createLocation:()=>r.createLocation,createPath:()=>r.createPath,getBaseHref:()=>r.getBaseHref,hasBasename:()=>r.hasBasename,locationsAreEqual:()=>r.locationsAreEqual,parsePath:()=>r.parsePath,stripBasename:()=>r.stripBasename,addLeadingSlash:()=>s.addLeadingSlash,createEventList:()=>s.createEventList,getUniqueKey:()=>s.getUniqueKey,getValueType:()=>s.getValueType,isObject:()=>s.isObject,stripLeadingSlash:()=>s.stripLeadingSlash,stripTrailingSlash:()=>s.stripTrailingSlash,valueEqual:()=>s.valueEqual});var n=a("./src/createHashHistory.js"),o=a("./src/createBrowserHistory.js"),r=a("./utils/LocationUtils.js"),s=a("./utils/index.js")},"./utils/LocationUtils.js":(e,t,a)=>{a.r(t),a.d(t,{createLocation:()=>o,parsePath:()=>r,createPath:()=>s,hasBasename:()=>i,stripBasename:()=>c,getBaseHref:()=>l,locationsAreEqual:()=>u});var n=a("./utils/index.js");a("./node_modules/resolve-pathname/esm/resolve-pathname.js");function o(e={}){const{path:t,basename:a,key:o=(0,n.getUniqueKey)(),state:s={index:0},currentLocation:i}=e;return{...r(t,a,i),key:o,state:s}}function r(e,t,a){let n={pathname:"/",search:"",hash:""};"string"==typeof e?n.pathname=e||"/":n=Object.assign(n,{...e});const o=n.pathname.indexOf("#");o>-1&&(n.hash=n.pathname.substr(o),n.pathname=n.pathname.substr(0,o));const r=n.pathname.indexOf("?");return r>-1&&(n.search=n.pathname.substr(r),n.pathname=n.pathname.substr(0,r)),n.pathname=c(n.pathname,t),a?n.pathname?"/"!==n.pathname.charAt(0)&&(n.pathname=resolvePathname(n.pathname,a.pathname)):n.pathname=a.pathname:n.pathname||(n.pathname="/"),{pathname:n.pathname,search:"?"===n.search?"":n.search,hash:"#"===n.hash?"":n.hash}}function s(e={}){const{pathname:t,search:a,hash:n}=e;let o=t||"/";return a&&"?"!==a&&(o+="?"===a.charAt(0)?a:`?${a}`),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:`#${n}`),o}function i(e="",t=""){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function c(e="",t=""){return i(e,t)?e.substr(t.length):e}function l(){let e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){let e=window.location.href,a=e.indexOf("#");t=-1===a?e:e.slice(0,a)}return t}function u(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,n.valueEqual)(e.state,t.state)}},"./utils/index.js":(e,t,a)=>{a.r(t),a.d(t,{createEventList:()=>o,getUniqueKey:()=>r,isObject:()=>s,getValueType:()=>i,valueEqual:()=>c,addLeadingSlash:()=>l,stripLeadingSlash:()=>u,stripTrailingSlash:()=>h});var n=a("./config/index.js");function o(e={}){const{isNeedResult:t=!1,removeCallback:a}=e;let n=[];return{get length(){return n.length},push:e=>(n.push(e),()=>{n=n.filter((t=>t!==e)),n.length||a&&a()}),call(e){let a=!0;for(let o=0,r=n.length;o<r;o++){const r=n[o];if(a=r&&r(e),t&&!a)break}return a}}}function r(e=""){let t=Date.now().toString(32)+e.toString(),a=[],n=1,o=0;for(let e=1,r=t.length;e<=r;e++)e===n&&(a[o]=String.fromCharCode(65+Math.floor(22*Math.random())),o++,n*=2),a[o]=t[e-1],o++;return a.join("")}function s(e){return e&&"object"==typeof e&&"[object Object]"===toString.call(e)}function i(e){let t=n.enumValueType.basic;s(e)&&(t=n.enumValueType.object),Array.isArray(e)&&(t=n.enumValueType.array)}function c(e,t){const a=i(e);if(a!==i(t))return!1;if(a===n.enumValueType.basic)return e===t;if(a===n.enumValueType.object){const a=Object.keys(e);for(let n=0,o=a.length;n<o;n++){const o=a[n];if(!c(e[o],t[o]))return!1}}if(a===n.enumValueType.array){if(e.length!==t.length)return falsei;for(let a=0,n=e.length;a<n;a++){if(!c(e[a],t[a]))return!1}}return!1}function l(e){return"/"===e.charAt(0)?e:"/"+e}function u(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}}},t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}return a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a("./src/index.js")})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96eWxpYW5nSGlzdG9yeS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3RvcnkvLi9jb25maWcvaW5kZXguanMiLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3RvcnkvLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9lc20vcmVzb2x2ZS1wYXRobmFtZS5qcyIsIndlYnBhY2s6Ly96eWxpYW5nSGlzdG9yeS8uL3NyYy9jcmVhdGVCcm93c2VySGlzdG9yeS5qcyIsIndlYnBhY2s6Ly96eWxpYW5nSGlzdG9yeS8uL3NyYy9jcmVhdGVIYXNoSGlzdG9yeS5qcyIsIndlYnBhY2s6Ly96eWxpYW5nSGlzdG9yeS8uL3V0aWxzL0xvY2F0aW9uVXRpbHMuanMiLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3RvcnkvLi91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly96eWxpYW5nSGlzdG9yeS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly96eWxpYW5nSGlzdG9yeS93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3Rvcnkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3p5bGlhbmdIaXN0b3J5L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3Rvcnkvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiQmVmb3JlVW5sb2FkRXZlbnRUeXBlIiwiSGFzaENoYW5nZUV2ZW50VHlwZSIsIlBvcFN0YXRlRXZlbnRUeXBlIiwiYWN0aW9uVHlwZSIsInB1c2giLCJyZXBsYWNlIiwicG9wIiwiZW51bVZhbHVlVHlwZSIsIm9iamVjdCIsImFycmF5IiwiYmFzaWMiLCJpc0Fic29sdXRlIiwicGF0aG5hbWUiLCJjaGFyQXQiLCJzcGxpY2VPbmUiLCJsaXN0IiwiaW5kZXgiLCJpIiwiayIsIm4iLCJsZW5ndGgiLCJ0byIsImZyb20iLCJ1bmRlZmluZWQiLCJoYXNUcmFpbGluZ1NsYXNoIiwidG9QYXJ0cyIsInNwbGl0IiwiZnJvbVBhcnRzIiwiaXNUb0FicyIsImlzRnJvbUFicyIsIm11c3RFbmRBYnMiLCJjb25jYXQiLCJsYXN0IiwidXAiLCJwYXJ0IiwidW5zaGlmdCIsInJlc3VsdCIsImpvaW4iLCJzdWJzdHIiLCJjcmVhdGVCcm93c2VySGlzdG9yeSIsIm9wdGlvbnMiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiaXNTaG93QmVmb3JlVW5sb2FkIiwiYmFzZW5hbWUiLCJzdHJpcFRyYWlsaW5nU2xhc2giLCJhZGRMZWFkaW5nU2xhc2giLCJnbG9iYWxIaXN0b3J5IiwiaGlzdG9yeSIsImxpc3RlbmVycyIsImNyZWF0ZUV2ZW50TGlzdCIsInJlbW92ZUNhbGxiYWNrIiwicmVtb3ZlUG9wU3RhdGVFdmVudExpc3RlbkZ1bmMiLCJibG9ja2VycyIsImlzTmVlZFJlc3VsdCIsImFjdGlvbiIsImxvY2F0aW9uIiwiY3JlYXRlTG9jYXRpb24iLCJwYXRoIiwic3RhdGUiLCJwb3BTdGF0ZUV2ZW50TGlzdGVuRnVuYyIsImV2ZW50IiwibmV4dExvY2F0aW9uIiwiY3JlYXRlUGF0aCIsImJsb2NrZWRQb3BUeCIsImNvbnNvbGUiLCJsb2ciLCJzZW5kRGF0YSIsImNhbGwiLCJsYXN0SW5kZXgiLCJnbyIsImFwcGx5VG8iLCJoYW5kbGVQb3AiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFsbG93VG8iLCJwcm9wcyIsInByb21wdEJlZm9yZVVubG9hZCIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJjcmVhdGVIcmVmIiwibmV3QWN0aW9uIiwibmV3U3RhdGUiLCJPYmplY3QiLCJhc3NpZ24iLCJuZXdMb2NhdGlvbiIsInVybCIsImdldEJhc2VIcmVmIiwicHVzaFN0YXRlIiwiZSIsImVycm9yIiwicmVwbGFjZVN0YXRlIiwiYmFjayIsImZvcndhcmQiLCJsaXN0ZW4iLCJsaXN0ZW5lciIsImJsb2NrIiwiYmxvY2tlciIsInVuYmxvY2siLCJjcmVhdGVIYXNoSGlzdG9yeSIsInJlbW92ZUhhc2hDaGFuZ2VFdmVudExpc3RlbkZ1bmMiLCJoYXNoIiwiaGFzaENoYW5nZUV2ZW50TGlzdGVuRnVuYyIsInBhcmFtcyIsImtleSIsImdldFVuaXF1ZUtleSIsImN1cnJlbnRMb2NhdGlvbiIsInBhcnNlUGF0aCIsImxvY2F0aW9uUmVzdWx0Iiwic2VhcmNoIiwiaGFzaEluZGV4IiwiaW5kZXhPZiIsInNlYXJjaEluZGV4Iiwic3RyaXBCYXNlbmFtZSIsInJlc29sdmVQYXRobmFtZSIsImhhc0Jhc2VuYW1lIiwicHJlZml4IiwidG9Mb3dlckNhc2UiLCJiYXNlIiwicXVlcnlTZWxlY3RvciIsImhyZWYiLCJnZXRBdHRyaWJ1dGUiLCJzbGljZSIsImxvY2F0aW9uc0FyZUVxdWFsIiwiYSIsImIiLCJ2YWx1ZUVxdWFsIiwiZm4iLCJmaWx0ZXIiLCJpdGVtIiwiYXJnIiwibGVuIiwiYmFzZURhdGEiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJuZXdLZXkiLCJ2ZXJpZmljYXRpb25EYXRhIiwibmV3S2V5SW5kZXgiLCJqIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaXNPYmplY3QiLCJvYmoiLCJnZXRWYWx1ZVR5cGUiLCJ2YWwiLCJ0eXBlIiwiQXJyYXkiLCJpc0FycmF5IiwidmFsdWVBIiwidmFsdWVCIiwidmFsdWVBVHlwZSIsImtleXMiLCJmYWxzZWkiLCJzdHJpcExlYWRpbmdTbGFzaCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6IjtDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsR0FDZSxpQkFBWkMsUUFDZEEsUUFBd0IsZUFBSUQsSUFFNUJELEVBQXFCLGVBQUlDLElBUjNCLENBU0dLLE1BQU0sV0FDVCxNLDJMQ1ZPLE1BQU1DLEVBQXdCLGVBQ3hCQyxFQUFzQixhQUN0QkMsRUFBb0IsV0FLcEJDLEVBQWEsQ0FDeEJDLEtBQU0sT0FDTkMsUUFBUyxVQUNUQyxJQUFLLE9BTU1DLEVBQWdCLENBQzNCQyxPQUFRLFNBQ1JDLE1BQU8sUUFDUEMsTUFBTyxVLG9FQ25CVCxTQUFTQyxFQUFXQyxHQUNsQixNQUE4QixNQUF2QkEsRUFBU0MsT0FBTyxHQUl6QixTQUFTQyxFQUFVQyxFQUFNQyxHQUN2QixJQUFLLElBQUlDLEVBQUlELEVBQU9FLEVBQUlELEVBQUksRUFBR0UsRUFBSUosRUFBS0ssT0FBUUYsRUFBSUMsRUFBR0YsR0FBSyxFQUFHQyxHQUFLLEVBQ2xFSCxFQUFLRSxHQUFLRixFQUFLRyxHQUdqQkgsRUFBS1QsTSw4QkFnRVAsUUE1REEsU0FBeUJlLEVBQUlDLFFBQ2RDLElBQVRELElBQW9CQSxFQUFPLElBRS9CLElBa0JJRSxFQWxCQUMsRUFBV0osR0FBTUEsRUFBR0ssTUFBTSxNQUFTLEdBQ25DQyxFQUFhTCxHQUFRQSxFQUFLSSxNQUFNLE1BQVMsR0FFekNFLEVBQVVQLEdBQU1WLEVBQVdVLEdBQzNCUSxFQUFZUCxHQUFRWCxFQUFXVyxHQUMvQlEsRUFBYUYsR0FBV0MsRUFXNUIsR0FUSVIsR0FBTVYsRUFBV1UsR0FFbkJNLEVBQVlGLEVB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SyxFQUFRQSxFQUFPRCxRQUFTcUssR0FHL0NwSyxFQUFPRCxRQ2pCZixPQ0ZBcUssRUFBb0JHLEVBQUksQ0FBQ3hLLEVBQVN5SyxLQUNqQyxJQUFJLElBQUkzRCxLQUFPMkQsRUFDWEosRUFBb0JLLEVBQUVELEVBQVkzRCxLQUFTdUQsRUFBb0JLLEVBQUUxSyxFQUFTOEcsSUFDNUVyQixPQUFPa0YsZUFBZTNLLEVBQVM4RyxFQUFLLENBQUU4RCxZQUFZLEVBQU1DLElBQUtKLEVBQVczRCxNQ0ozRXVELEVBQW9CSyxFQUFJLENBQUNsQixFQUFLc0IsSUFBU3JGLE9BQU9zRixVQUFVQyxlQUFldEcsS0FBSzhFLEVBQUtzQixHQ0NqRlQsRUFBb0JZLEVBQUtqTCxJQUNILG9CQUFYa0wsUUFBMEJBLE9BQU9DLGFBQzFDMUYsT0FBT2tGLGVBQWUzSyxFQUFTa0wsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEM0YsT0FBT2tGLGVBQWUzSyxFQUFTLGFBQWMsQ0FBRW9MLE9BQU8sS0hGaERmLEVBQW9CLG1CIiwiZmlsZSI6Imhpc3RvcnkubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wienlsaWFuZ0hpc3RvcnlcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wienlsaWFuZ0hpc3RvcnlcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJleHBvcnQgY29uc3QgQmVmb3JlVW5sb2FkRXZlbnRUeXBlID0gXCJiZWZvcmV1bmxvYWRcIjtcclxuZXhwb3J0IGNvbnN0IEhhc2hDaGFuZ2VFdmVudFR5cGUgPSBcImhhc2hjaGFuZ2VcIjtcclxuZXhwb3J0IGNvbnN0IFBvcFN0YXRlRXZlbnRUeXBlID0gXCJwb3BzdGF0ZVwiO1xyXG5cclxuLyoqXHJcbiAqIOWOhuWPsuagiOS4iuS4gOasoeaTjeS9nOeahOexu+Wei1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGFjdGlvblR5cGUgPSB7XHJcbiAgcHVzaDogXCJQVVNIXCIsIC8vIOaOqOWFpeagiFxyXG4gIHJlcGxhY2U6IFwiUkVQTEFDRVwiLCAvLyDmm7/mjaLmoIhcclxuICBwb3A6IFwiUE9QXCIsIC8vIOWIneWni+WAvFxyXG59O1xyXG5cclxuLyoqXHJcbiAqIOaVsOaNruexu+Wei+aemuS4vlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGVudW1WYWx1ZVR5cGUgPSB7XHJcbiAgb2JqZWN0OiBcIk9iamVjdFwiLFxyXG4gIGFycmF5OiBcIkFycmF5XCIsXHJcbiAgYmFzaWM6IFwiQmFzaWNcIixcclxufTtcclxuIiwiZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRobmFtZSkge1xuICByZXR1cm4gcGF0aG5hbWUuY2hhckF0KDApID09PSAnLyc7XG59XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKVxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAodmFyIGkgPSBpbmRleCwgayA9IGkgKyAxLCBuID0gbGlzdC5sZW5ndGg7IGsgPCBuOyBpICs9IDEsIGsgKz0gMSkge1xuICAgIGxpc3RbaV0gPSBsaXN0W2tdO1xuICB9XG5cbiAgbGlzdC5wb3AoKTtcbn1cblxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBoZWF2aWx5IG9uIG5vZGUncyB1cmwucGFyc2VcbmZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZSh0bywgZnJvbSkge1xuICBpZiAoZnJvbSA9PT0gdW5kZWZpbmVkKSBmcm9tID0gJyc7XG5cbiAgdmFyIHRvUGFydHMgPSAodG8gJiYgdG8uc3BsaXQoJy8nKSkgfHwgW107XG4gIHZhciBmcm9tUGFydHMgPSAoZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykpIHx8IFtdO1xuXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XG4gIHZhciBpc0Zyb21BYnMgPSBmcm9tICYmIGlzQWJzb2x1dGUoZnJvbSk7XG4gIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7XG5cbiAgaWYgKHRvICYmIGlzQWJzb2x1dGUodG8pKSB7XG4gICAgLy8gdG8gaXMgYWJzb2x1dGVcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xuICB9IGVsc2UgaWYgKHRvUGFydHMubGVuZ3RoKSB7XG4gICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xuICAgIGZyb21QYXJ0cyA9IGZyb21QYXJ0cy5jb25jYXQodG9QYXJ0cyk7XG4gIH1cblxuICBpZiAoIWZyb21QYXJ0cy5sZW5ndGgpIHJldHVybiAnLyc7XG5cbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2g7XG4gIGlmIChmcm9tUGFydHMubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcbiAgfSBlbHNlIHtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG4gIH1cblxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGFydCA9IGZyb21QYXJ0c1tpXTtcblxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW11c3RFbmRBYnMpIGZvciAoOyB1cC0tOyB1cCkgZnJvbVBhcnRzLnVuc2hpZnQoJy4uJyk7XG5cbiAgaWYgKFxuICAgIG11c3RFbmRBYnMgJiZcbiAgICBmcm9tUGFydHNbMF0gIT09ICcnICYmXG4gICAgKCFmcm9tUGFydHNbMF0gfHwgIWlzQWJzb2x1dGUoZnJvbVBhcnRzWzBdKSlcbiAgKVxuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcnKTtcblxuICB2YXIgcmVzdWx0ID0gZnJvbVBhcnRzLmpvaW4oJy8nKTtcblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiByZXN1bHQuc3Vic3RyKC0xKSAhPT0gJy8nKSByZXN1bHQgKz0gJy8nO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlc29sdmVQYXRobmFtZTtcbiIsImltcG9ydCB7XHJcbiAgY3JlYXRlRXZlbnRMaXN0LFxyXG4gIHN0cmlwVHJhaWxpbmdTbGFzaCxcclxuICBhZGRMZWFkaW5nU2xhc2gsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2luZGV4XCI7XHJcbmltcG9ydCB7XHJcbiAgQmVmb3JlVW5sb2FkRXZlbnRUeXBlLFxyXG4gIEhhc2hDaGFuZ2VFdmVudFR5cGUsXHJcbiAgUG9wU3RhdGVFdmVudFR5cGUsXHJcbiAgYWN0aW9uVHlwZSxcclxufSBmcm9tIFwiLi4vY29uZmlnL2luZGV4XCI7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlUGF0aCxcclxuICBjcmVhdGVMb2NhdGlvbixcclxuICBnZXRCYXNlSHJlZixcclxufSBmcm9tIFwiLi4vdXRpbHMvTG9jYXRpb25VdGlsc1wiO1xyXG4vKipcclxuICog5Yib5bu6aGlzdG9yeei3r+eUsVxyXG4gKiBAcGFyYW0geyp9IG9wdGlvbnNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KG9wdGlvbnMgPSB7fSkge1xyXG4gIGNvbnN0IHsgd2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcsIGlzU2hvd0JlZm9yZVVubG9hZCA9IGZhbHNlIH0gPSBvcHRpb25zO1xyXG5cclxuICBjb25zdCBiYXNlbmFtZSA9IG9wdGlvbnMuYmFzZW5hbWVcclxuICAgID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChvcHRpb25zLmJhc2VuYW1lKSlcclxuICAgIDogXCJcIjtcclxuXHJcbiAgLy8g5YWo5bGAaGlzdG9yeVxyXG4gIGNvbnN0IGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcclxuXHJcbiAgLy8g6K6i6ZiF6ICF6Zif5YiXXHJcbiAgY29uc3QgbGlzdGVuZXJzID0gY3JlYXRlRXZlbnRMaXN0KHtcclxuICAgIHJlbW92ZUNhbGxiYWNrOiByZW1vdmVQb3BTdGF0ZUV2ZW50TGlzdGVuRnVuYyxcclxuICB9KTtcclxuICAvLyDmj5DnpLrkuovku7bpmJ/liJdcclxuICBjb25zdCBibG9ja2VycyA9IGNyZWF0ZUV2ZW50TGlzdCh7XHJcbiAgICBpc05lZWRSZXN1bHQ6IHRydWUsXHJcbiAgICByZW1vdmVDYWxsYmFjazogcmVtb3ZlUG9wU3RhdGVFdmVudExpc3RlbkZ1bmMsXHJcbiAgfSk7XHJcblxyXG4gIGxldCBhY3Rpb24gPSBhY3Rpb25UeXBlLnBvcDtcclxuICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbih7XHJcbiAgICBwYXRoOiB3aW5kb3cubG9jYXRpb24sXHJcbiAgICBiYXNlbmFtZSxcclxuICAgIHN0YXRlOiBnbG9iYWxIaXN0b3J5LnN0YXRlLFxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBQb3BTdGF0ZUV2ZW50IOebkeWQrOaWueazlVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHBvcFN0YXRlRXZlbnRMaXN0ZW5GdW5jKGV2ZW50KSB7XHJcbiAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oe1xyXG4gICAgICBwYXRoOiB3aW5kb3cubG9jYXRpb24sXHJcbiAgICAgIGJhc2VuYW1lLFxyXG4gICAgICBzdGF0ZTogZ2xvYmFsSGlzdG9yeS5zdGF0ZSxcclxuICAgIH0pO1xyXG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgaGFzaGNoYW5nZSBldmVudHMuXHJcbiAgICAvLyDov5nph4zmhJ/op4nlj6/ku6Xkvb/nlKhldmVudOS4reeahOaVsOaNru+8jOS9huaYr+i/meagt+WGmeWPr+S7pemBv+WFjeS4jeWQjOeOr+Wig2hhc2jkuK3mlbDmja7lvILluLjnmoTpl67pophcclxuICAgIGlmIChjcmVhdGVQYXRoKG5leHRMb2NhdGlvbikgIT09IGNyZWF0ZVBhdGgobG9jYXRpb24pKSB7XHJcbiAgICAgIGhhbmRsZVBvcChuZXh0TG9jYXRpb24pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlUG9wU3RhdGVFdmVudExpc3RlbkZ1bmMoKSB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50VHlwZSwgcG9wU3RhdGVFdmVudExpc3RlbkZ1bmMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6K6+572u55uR5ZCsLOWPquacieWGjWdvLGJhY2ssZm9yd2FyZOS4ieenjeaDheWGteS4i+S8muinpuWPkVxyXG4gICAqL1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnRUeXBlLCBwb3BTdGF0ZUV2ZW50TGlzdGVuRnVuYyk7XHJcblxyXG4gIGxldCBibG9ja2VkUG9wVHggPSBudWxsO1xyXG4gIC8qKlxyXG4gICAqIGhhc2jmlLnlj5jlh7rlj5Hkuovku7ZcclxuICAgKi9cclxuICBmdW5jdGlvbiBoYW5kbGVQb3AobmV4dExvY2F0aW9uKSB7XHJcbiAgICBpZiAoYmxvY2tlZFBvcFR4KSB7XHJcbiAgICAgIGJsb2NrZWRQb3BUeCA9IGZhbHNlO1xyXG4gICAgICBjb25zb2xlLmxvZyhcImJsb2NrZWRQb3BUeFwiLCBibG9ja2VkUG9wVHgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbmV4dEFjdGlvbiA9IGFjdGlvblR5cGUucG9wO1xyXG4gICAgICBjb25zdCBzZW5kRGF0YSA9IHtcclxuICAgICAgICBhY3Rpb246IG5leHRBY3Rpb24sXHJcbiAgICAgICAgbG9jYXRpb246IG5leHRMb2NhdGlvbixcclxuICAgICAgfTtcclxuICAgICAgaWYgKGJsb2NrZXJzLmxlbmd0aCkge1xyXG4gICAgICAgIGxldCBpc09rID0gYmxvY2tlcnMuY2FsbChzZW5kRGF0YSk7XHJcbiAgICAgICAgaWYgKCFpc09rKSB7XHJcbiAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBsb2NhdGlvbi5zdGF0ZS5pbmRleCAtIG5leHRMb2NhdGlvbi5zdGF0ZS5pbmRleDtcclxuICAgICAgICAgIC8vIGJsb2NrZWRQb3BUeCA9IHRydWU7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImlzTm90T2tcIiwgYmxvY2tlZFBvcFR4LCBsb2NhdGlvbiwgbmV4dExvY2F0aW9uKTtcclxuICAgICAgICAgIGdvKGxhc3RJbmRleCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uLCBuZXh0TG9jYXRpb24pO1xyXG4gICAgICAgICAgbG9jYXRpb24gPSBuZXh0TG9jYXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcGx5VG8oc2VuZERhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDnlJ/miJDpk77mjqVcclxuICAgKi9cclxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKHBhdGgpIHtcclxuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICByZXR1cm4gY3JlYXRlUGF0aChcclxuICAgICAgICBjcmVhdGVMb2NhdGlvbih7XHJcbiAgICAgICAgICBwYXRoLFxyXG4gICAgICAgICAgYmFzZW5hbWUsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaYr+WQpuWFgeiuuOi3s+i9rFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFsbG93VG8ocHJvcHMpIHtcclxuICAgIGNvbnN0IHsgYWN0aW9uLCBsb2NhdGlvbiB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCByZXN1bHQgPSAhYmxvY2tlcnMubGVuZ3RoIHx8IGJsb2NrZXJzLmNhbGwoeyBhY3Rpb24sIGxvY2F0aW9uIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWFgeiuuOi3s+i9rFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFwcGx5VG8ocHJvcHMpIHtcclxuICAgIGFjdGlvbiA9IHByb3BzLmFjdGlvbjtcclxuICAgIGxvY2F0aW9uID0gcHJvcHMubG9jYXRpb247XHJcbiAgICBsaXN0ZW5lcnMuY2FsbCh7IGFjdGlvbiwgbG9jYXRpb24gfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmt7vliqDot6/nlLFcclxuICAgKi9cclxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XHJcbiAgICBjb25zdCBuZXdBY3Rpb24gPSBhY3Rpb25UeXBlLnB1c2g7XHJcbiAgICBjb25zdCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgIGluZGV4OiBsb2NhdGlvbi5zdGF0ZSAmJiBsb2NhdGlvbi5zdGF0ZS5pbmRleCArIDEsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5ld0xvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oe1xyXG4gICAgICBwYXRoLFxyXG4gICAgICBzdGF0ZTogbmV3U3RhdGUsXHJcbiAgICAgIGJhc2VuYW1lLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzZW5kRGF0YSA9IHtcclxuICAgICAgYWN0aW9uOiBuZXdBY3Rpb24sXHJcbiAgICAgIGxvY2F0aW9uOiBuZXdMb2NhdGlvbixcclxuICAgIH07XHJcbiAgICBpZiAoYWxsb3dUbyhzZW5kRGF0YSkpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1cmwgPSBnZXRCYXNlSHJlZigpICsgYmFzZW5hbWUgKyBjcmVhdGVQYXRoKG5ld0xvY2F0aW9uKTtcclxuICAgICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZShuZXdTdGF0ZSwgXCJcIiwgdXJsKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgIH1cclxuICAgICAgYXBwbHlUbyhzZW5kRGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmm7/mjaJcclxuICAgKi9cclxuICBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XHJcbiAgICBjb25zdCBuZXdBY3Rpb24gPSBhY3Rpb25UeXBlLnB1c2g7XHJcbiAgICBjb25zdCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgIGluZGV4OiBsb2NhdGlvbi5zdGF0ZSAmJiBsb2NhdGlvbi5zdGF0ZS5pbmRleCxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgbmV3TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbih7IHBhdGgsIHN0YXRlOiBuZXdTdGF0ZSwgYmFzZW5hbWUgfSk7XHJcbiAgICBjb25zdCBzZW5kRGF0YSA9IHtcclxuICAgICAgYWN0aW9uOiBuZXdBY3Rpb24sXHJcbiAgICAgIGxvY2F0aW9uOiBuZXdMb2NhdGlvbixcclxuICAgIH07XHJcbiAgICBpZiAoYWxsb3dUbyhzZW5kRGF0YSkpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1cmwgPSBnZXRCYXNlSHJlZigpICsgYmFzZW5hbWUgKyBjcmVhdGVQYXRoKG5ld0xvY2F0aW9uKTtcclxuICAgICAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZShuZXdTdGF0ZSwgXCJcIiwgdXJsKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgIH1cclxuICAgICAgYXBwbHlUbyhzZW5kRGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDot7PovaxcclxuICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXhcclxuICAgKi9cclxuICBmdW5jdGlvbiBnbyhpbmRleCkge1xyXG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhpbmRleCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlm57pgIBcclxuICAgKi9cclxuICBmdW5jdGlvbiBiYWNrKCkge1xyXG4gICAgZ28oLTEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5YmN6L+bXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZm9yd2FyZCgpIHtcclxuICAgIGdvKDEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5rOo5YaM6K6i6ZiF6ICFXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICAgKi9cclxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcclxuICAgIHJldHVybiBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDpobXpnaLliLfmlrDliY3nmoTlpITnkIbmk43kvZxcclxuICAgKiDlj6rmnIloaXN0b3J5LmJhY2soKSDlkowgaGlzdG9yeS5mb3J3YXJkKCnkvJrop6blj5FGXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcHJvbXB0QmVmb3JlVW5sb2FkKGV2ZW50KSB7XHJcbiAgICBpZiAoIWlzU2hvd0JlZm9yZVVubG9hZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBDYW5jZWwgdGhlIGV2ZW50IGFzIHN0YXRlZCBieSB0aGUgc3RhbmRhcmQuXHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLy8gQ2hyb21lIHJlcXVpcmVzIHJldHVyblZhbHVlIHRvIGJlIHNldC5cclxuICAgIGV2ZW50LnJldHVyblZhbHVlID0gXCJcIjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaPkOekulxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGJsb2NrKGJsb2NrZXIpIHtcclxuICAgIGxldCB1bmJsb2NrID0gYmxvY2tlcnMucHVzaChibG9ja2VyKTtcclxuICAgIGlmIChibG9ja2Vycy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoQmVmb3JlVW5sb2FkRXZlbnRUeXBlLCBwcm9tcHRCZWZvcmVVbmxvYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHVuYmxvY2soKTtcclxuICAgICAgaWYgKCFibG9ja2Vycy5sZW5ndGgpIHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihCZWZvcmVVbmxvYWRFdmVudFR5cGUsIHByb21wdEJlZm9yZVVubG9hZCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBsZXQgaGlzdG9yeSA9IHtcclxuICAgIGdldCBhY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBhY3Rpb247XHJcbiAgICB9LFxyXG4gICAgZ2V0IGxvY2F0aW9uKCkge1xyXG4gICAgICByZXR1cm4gbG9jYXRpb247XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlSHJlZixcclxuICAgIHB1c2gsXHJcbiAgICByZXBsYWNlLFxyXG4gICAgZ28sXHJcbiAgICBiYWNrLFxyXG4gICAgZm9yd2FyZCxcclxuICAgIGxpc3RlbixcclxuICAgIGJsb2NrLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiBoaXN0b3J5O1xyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgY3JlYXRlRXZlbnRMaXN0LFxyXG4gIHN0cmlwVHJhaWxpbmdTbGFzaCxcclxuICBhZGRMZWFkaW5nU2xhc2gsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2luZGV4XCI7XHJcbmltcG9ydCB7XHJcbiAgQmVmb3JlVW5sb2FkRXZlbnRUeXBlLFxyXG4gIEhhc2hDaGFuZ2VFdmVudFR5cGUsXHJcbiAgUG9wU3RhdGVFdmVudFR5cGUsXHJcbiAgYWN0aW9uVHlwZSxcclxufSBmcm9tIFwiLi4vY29uZmlnL2luZGV4XCI7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlUGF0aCxcclxuICBjcmVhdGVMb2NhdGlvbixcclxuICBnZXRCYXNlSHJlZixcclxufSBmcm9tIFwiLi4vdXRpbHMvTG9jYXRpb25VdGlsc1wiO1xyXG4vKipcclxuICog5Yib5bu6aGlzdG9yeei3r+eUsVxyXG4gKiBAcGFyYW0geyp9IG9wdGlvbnNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUhhc2hIaXN0b3J5KG9wdGlvbnMgPSB7fSkge1xyXG4gIGNvbnN0IHsgd2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcsIGlzU2hvd0JlZm9yZVVubG9hZCA9IGZhbHNlIH0gPSBvcHRpb25zO1xyXG5cclxuICBjb25zdCBiYXNlbmFtZSA9IG9wdGlvbnMuYmFzZW5hbWVcclxuICAgID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChvcHRpb25zLmJhc2VuYW1lKSlcclxuICAgIDogXCJcIjtcclxuXHJcbiAgLy8g5YWo5bGAaGlzdG9yeVxyXG4gIGNvbnN0IGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcclxuXHJcbiAgLy8g6K6i6ZiF6ICF6Zif5YiXXHJcbiAgY29uc3QgbGlzdGVuZXJzID0gY3JlYXRlRXZlbnRMaXN0KHtcclxuICAgIHJlbW92ZUNhbGxiYWNrOiByZW1vdmVIYXNoQ2hhbmdlRXZlbnRMaXN0ZW5GdW5jLFxyXG4gIH0pO1xyXG4gIC8vIOaPkOekuuS6i+S7tumYn+WIl1xyXG4gIGNvbnN0IGJsb2NrZXJzID0gY3JlYXRlRXZlbnRMaXN0KHtcclxuICAgIGlzTmVlZFJlc3VsdDogdHJ1ZSxcclxuICAgIHJlbW92ZUNhbGxiYWNrOiByZW1vdmVIYXNoQ2hhbmdlRXZlbnRMaXN0ZW5GdW5jLFxyXG4gIH0pO1xyXG5cclxuICBsZXQgYWN0aW9uID0gYWN0aW9uVHlwZS5wb3A7XHJcbiAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oe1xyXG4gICAgcGF0aDogd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpLFxyXG4gICAgYmFzZW5hbWUsXHJcbiAgICBzdGF0ZTogZ2xvYmFsSGlzdG9yeS5zdGF0ZSxcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogaGFzaENoYW5nZUV2ZW50IOebkeWQrOaWueazlVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGhhc2hDaGFuZ2VFdmVudExpc3RlbkZ1bmMoZXZlbnQpIHtcclxuICAgIGxldCBuZXh0TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbih7XHJcbiAgICAgIHBhdGg6IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKSxcclxuICAgICAgYmFzZW5hbWUsXHJcbiAgICAgIHN0YXRlOiBnbG9iYWxIaXN0b3J5LnN0YXRlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgaGFzaGNoYW5nZSBldmVudHMuXHJcbiAgICAvLyDov5nph4zmhJ/op4nlj6/ku6Xkvb/nlKhldmVudOS4reeahOaVsOaNru+8jOS9huaYr+i/meagt+WGmeWPr+S7pemBv+WFjeS4jeWQjOeOr+Wig2hhc2jkuK3mlbDmja7lvILluLjnmoTpl67pophcclxuICAgIGlmIChjcmVhdGVQYXRoKG5leHRMb2NhdGlvbikgIT09IGNyZWF0ZVBhdGgobG9jYXRpb24pKSB7XHJcbiAgICAgIGhhbmRsZVBvcChuZXh0TG9jYXRpb24pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlSGFzaENoYW5nZUV2ZW50TGlzdGVuRnVuYygpIHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudFR5cGUsIGhhc2hDaGFuZ2VFdmVudExpc3RlbkZ1bmMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6K6+572u55uR5ZCsLOWPquacieWGjWdvLGJhY2ssZm9yd2FyZOS4ieenjeaDheWGteS4i+S8muinpuWPkVxyXG4gICAqL1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudFR5cGUsIGhhc2hDaGFuZ2VFdmVudExpc3RlbkZ1bmMpO1xyXG5cclxuICBsZXQgYmxvY2tlZFBvcFR4ID0gbnVsbDtcclxuICAvKipcclxuICAgKiBoYXNo5pS55Y+Y5Ye65Y+R5LqL5Lu2XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaGFuZGxlUG9wKG5leHRMb2NhdGlvbikge1xyXG4gICAgaWYgKGJsb2NrZWRQb3BUeCkge1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbmV4dEFjdGlvbiA9IGFjdGlvblR5cGUucG9wO1xyXG4gICAgICBjb25zdCBzZW5kRGF0YSA9IHtcclxuICAgICAgICBhY3Rpb246IG5leHRBY3Rpb24sXHJcbiAgICAgICAgbG9jYXRpb246IG5leHRMb2NhdGlvbixcclxuICAgICAgfTtcclxuICAgICAgaWYgKGJsb2NrZXJzLmxlbmd0aCkge1xyXG4gICAgICAgIGxldCBpc09rID0gYmxvY2tlcnMuY2FsbChzZW5kRGF0YSk7XHJcbiAgICAgICAgaWYgKCFpc09rKSB7XHJcbiAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBsb2NhdGlvbi5zdGF0ZS5pbmRleCAtIG5leHRMb2NhdGlvbi5zdGF0ZS5pbmRleDtcclxuICAgICAgICAgIGdvKGxhc3RJbmRleCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxvY2F0aW9uID0gbmV4dExvY2F0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHBseVRvKHNlbmREYXRhKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog55Sf5oiQ6ZO+5o6lXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihwYXRoKSB7XHJcbiAgICBpZiAodHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgcmV0dXJuIGNyZWF0ZVBhdGgoXHJcbiAgICAgICAgY3JlYXRlTG9jYXRpb24oe1xyXG4gICAgICAgICAgcGF0aCxcclxuICAgICAgICAgIGJhc2VuYW1lLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmmK/lkKblhYHorrjot7PovaxcclxuICAgKi9cclxuICBmdW5jdGlvbiBhbGxvd1RvKHByb3BzKSB7XHJcbiAgICBjb25zdCB7IGFjdGlvbiwgbG9jYXRpb24gfSA9IHByb3BzO1xyXG4gICAgcmV0dXJuICFibG9ja2Vycy5sZW5ndGggfHwgYmxvY2tlcnMuY2FsbCh7IGFjdGlvbiwgbG9jYXRpb24gfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlhYHorrjot7PovaxcclxuICAgKi9cclxuICBmdW5jdGlvbiBhcHBseVRvKHByb3BzKSB7XHJcbiAgICBhY3Rpb24gPSBwcm9wcy5hY3Rpb247XHJcbiAgICBsb2NhdGlvbiA9IHByb3BzLmxvY2F0aW9uO1xyXG4gICAgbGlzdGVuZXJzLmNhbGwoeyBhY3Rpb24sIGxvY2F0aW9uIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5re75Yqg6Lev55SxXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xyXG4gICAgY29uc3QgbmV3QWN0aW9uID0gYWN0aW9uVHlwZS5wdXNoO1xyXG4gICAgY29uc3QgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xyXG4gICAgICBpbmRleDogbG9jYXRpb24uc3RhdGUgJiYgbG9jYXRpb24uc3RhdGUuaW5kZXggKyAxLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBuZXdMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHtcclxuICAgICAgcGF0aCxcclxuICAgICAgc3RhdGU6IG5ld1N0YXRlLFxyXG4gICAgICBiYXNlbmFtZSxcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2VuZERhdGEgPSB7XHJcbiAgICAgIGFjdGlvbjogbmV3QWN0aW9uLFxyXG4gICAgICBsb2NhdGlvbjogbmV3TG9jYXRpb24sXHJcbiAgICB9O1xyXG4gICAgaWYgKGFsbG93VG8oc2VuZERhdGEpKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gZ2V0QmFzZUhyZWYoKSArIFwiI1wiICsgYmFzZW5hbWUgKyBjcmVhdGVQYXRoKG5ld0xvY2F0aW9uKTtcclxuICAgICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZShuZXdTdGF0ZSwgXCJcIiwgdXJsKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgIH1cclxuICAgICAgYXBwbHlUbyhzZW5kRGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmm7/mjaJcclxuICAgKi9cclxuICBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XHJcbiAgICBjb25zdCBuZXdBY3Rpb24gPSBhY3Rpb25UeXBlLnB1c2g7XHJcbiAgICBjb25zdCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgIGluZGV4OiBsb2NhdGlvbi5zdGF0ZSAmJiBsb2NhdGlvbi5zdGF0ZS5pbmRleCxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgbmV3TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbih7IHBhdGgsIHN0YXRlOiBuZXdTdGF0ZSwgYmFzZW5hbWUgfSk7XHJcbiAgICBjb25zdCBzZW5kRGF0YSA9IHtcclxuICAgICAgYWN0aW9uOiBuZXdBY3Rpb24sXHJcbiAgICAgIGxvY2F0aW9uOiBuZXdMb2NhdGlvbixcclxuICAgIH07XHJcbiAgICBpZiAoYWxsb3dUbyhzZW5kRGF0YSkpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1cmwgPSBnZXRCYXNlSHJlZigpICsgXCIjXCIgKyBiYXNlbmFtZSArIGNyZWF0ZVBhdGgobmV3TG9jYXRpb24pO1xyXG4gICAgICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKG5ld1N0YXRlLCBcIlwiLCB1cmwpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgfVxyXG4gICAgICBhcHBseVRvKHNlbmREYXRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOi3s+i9rFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGdvKGluZGV4KSB7XHJcbiAgICBnbG9iYWxIaXN0b3J5LmdvKGluZGV4KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWbnumAgFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGJhY2soKSB7XHJcbiAgICBnbygtMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDliY3ov5tcclxuICAgKi9cclxuICBmdW5jdGlvbiBmb3J3YXJkKCkge1xyXG4gICAgZ28oMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDms6jlhozorqLpmIXogIVcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xyXG4gICAgcmV0dXJuIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOmhtemdouWIt+aWsOWJjeeahOWkhOeQhuaTjeS9nFxyXG4gICAqIOWPquaciWhpc3RvcnkuYmFjaygpIOWSjCBoaXN0b3J5LmZvcndhcmQoKeS8muinpuWPkUZcclxuICAgKi9cclxuICBmdW5jdGlvbiBwcm9tcHRCZWZvcmVVbmxvYWQoZXZlbnQpIHtcclxuICAgIGlmICghaXNTaG93QmVmb3JlVW5sb2FkKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIENhbmNlbCB0aGUgZXZlbnQgYXMgc3RhdGVkIGJ5IHRoZSBzdGFuZGFyZC5cclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyBDaHJvbWUgcmVxdWlyZXMgcmV0dXJuVmFsdWUgdG8gYmUgc2V0LlxyXG4gICAgZXZlbnQucmV0dXJuVmFsdWUgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5o+Q56S6XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYmxvY2soYmxvY2tlcikge1xyXG4gICAgbGV0IHVuYmxvY2sgPSBibG9ja2Vycy5wdXNoKGJsb2NrZXIpO1xyXG4gICAgaWYgKGJsb2NrZXJzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihCZWZvcmVVbmxvYWRFdmVudFR5cGUsIHByb21wdEJlZm9yZVVubG9hZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgdW5ibG9jaygpO1xyXG4gICAgICBpZiAoIWJsb2NrZXJzLmxlbmd0aCkge1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEJlZm9yZVVubG9hZEV2ZW50VHlwZSwgcHJvbXB0QmVmb3JlVW5sb2FkKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGxldCBoaXN0b3J5ID0ge1xyXG4gICAgZ2V0IGFjdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGFjdGlvbjtcclxuICAgIH0sXHJcbiAgICBnZXQgbG9jYXRpb24oKSB7XHJcbiAgICAgIHJldHVybiBsb2NhdGlvbjtcclxuICAgIH0sXHJcbiAgICBjcmVhdGVIcmVmLFxyXG4gICAgcHVzaCxcclxuICAgIHJlcGxhY2UsXHJcbiAgICBnbyxcclxuICAgIGJhY2ssXHJcbiAgICBmb3J3YXJkLFxyXG4gICAgbGlzdGVuLFxyXG4gICAgYmxvY2ssXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGhpc3Rvcnk7XHJcbn1cclxuIiwiaW1wb3J0IHsgZ2V0VW5pcXVlS2V5LCB2YWx1ZUVxdWFsIH0gZnJvbSBcIi4vaW5kZXhcIjtcclxuaW1wb3J0IHJlc29sdmVQYXRoTmFtZSBmcm9tIFwicmVzb2x2ZS1wYXRobmFtZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHBhcmFtcyA9IHt9KSB7XHJcbiAgY29uc3Qge1xyXG4gICAgcGF0aCwgLy8g5Zyw5Z2AXHJcbiAgICBiYXNlbmFtZSwgLy9cclxuICAgIGtleSA9IGdldFVuaXF1ZUtleSgpLCAvLyDllK/kuIDlgLxcclxuICAgIHN0YXRlID0ge1xyXG4gICAgICBpbmRleDogMCxcclxuICAgIH0sIC8vIOeKtuaAgeWPguaVsFxyXG4gICAgY3VycmVudExvY2F0aW9uLCAvLyDlvZPliY1sb2NhdGlvblxyXG4gIH0gPSBwYXJhbXM7XHJcbiAgY29uc3QgYmFzZVBhdGhJbmZvID0gcGFyc2VQYXRoKHBhdGgsIGJhc2VuYW1lLCBjdXJyZW50TG9jYXRpb24pO1xyXG4gIHJldHVybiB7XHJcbiAgICAuLi5iYXNlUGF0aEluZm8sXHJcbiAgICBrZXksXHJcbiAgICBzdGF0ZSxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICog6Kej5p6Q6Lev5b6EXHJcbiAqIEBwYXJhbSB7Kn19IHBhdGhcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBhdGgocGF0aCwgYmFzZW5hbWUsIGN1cnJlbnRMb2NhdGlvbikge1xyXG4gIGxldCBsb2NhdGlvblJlc3VsdCA9IHtcclxuICAgIHBhdGhuYW1lOiBcIi9cIixcclxuICAgIHNlYXJjaDogXCJcIixcclxuICAgIGhhc2g6IFwiXCIsXHJcbiAgfTtcclxuXHJcbiAgaWYgKHR5cGVvZiBwYXRoID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICBsb2NhdGlvblJlc3VsdC5wYXRobmFtZSA9IHBhdGggfHwgXCIvXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvY2F0aW9uUmVzdWx0ID0gT2JqZWN0LmFzc2lnbihsb2NhdGlvblJlc3VsdCwgeyAuLi5wYXRoIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5YWI6L+H5rukaGFzaOWAvO+8jOeEtuWQjuWGjei/h+a7pHNlYXJjaOeahOWGheWuuVxyXG5cclxuICBjb25zdCBoYXNoSW5kZXggPSBsb2NhdGlvblJlc3VsdC5wYXRobmFtZS5pbmRleE9mKFwiI1wiKTtcclxuICAvLyDlrZjlnKhoYXNo5YC8XHJcbiAgaWYgKGhhc2hJbmRleCA+IC0xKSB7XHJcbiAgICAvLyBoYXNo5YC8XHJcbiAgICBsb2NhdGlvblJlc3VsdC5oYXNoID0gbG9jYXRpb25SZXN1bHQucGF0aG5hbWUuc3Vic3RyKGhhc2hJbmRleCk7XHJcbiAgICAvLyBwYXRobmFtZSDlgLxcclxuICAgIGxvY2F0aW9uUmVzdWx0LnBhdGhuYW1lID0gbG9jYXRpb25SZXN1bHQucGF0aG5hbWUuc3Vic3RyKDAsIGhhc2hJbmRleCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzZWFyY2hJbmRleCA9IGxvY2F0aW9uUmVzdWx0LnBhdGhuYW1lLmluZGV4T2YoXCI/XCIpO1xyXG4gIGlmIChzZWFyY2hJbmRleCA+IC0xKSB7XHJcbiAgICAvLyBzZWFyY2gg5YC8XHJcbiAgICBsb2NhdGlvblJlc3VsdC5zZWFyY2ggPSBsb2NhdGlvblJlc3VsdC5wYXRobmFtZS5zdWJzdHIoc2VhcmNoSW5kZXgpO1xyXG4gICAgLy8gcGF0aG5hbWUg5YC8XHJcbiAgICBsb2NhdGlvblJlc3VsdC5wYXRobmFtZSA9IGxvY2F0aW9uUmVzdWx0LnBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XHJcbiAgfVxyXG5cclxuICBsb2NhdGlvblJlc3VsdC5wYXRobmFtZSA9IHN0cmlwQmFzZW5hbWUobG9jYXRpb25SZXN1bHQucGF0aG5hbWUsIGJhc2VuYW1lKTtcclxuXHJcbiAgaWYgKGN1cnJlbnRMb2NhdGlvbikge1xyXG4gICAgaWYgKCFsb2NhdGlvblJlc3VsdC5wYXRobmFtZSkge1xyXG4gICAgICBsb2NhdGlvblJlc3VsdC5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcclxuICAgIH0gZWxzZSBpZiAobG9jYXRpb25SZXN1bHQucGF0aG5hbWUuY2hhckF0KDApICE9PSBcIi9cIikge1xyXG4gICAgICBsb2NhdGlvblJlc3VsdC5wYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZShcclxuICAgICAgICBsb2NhdGlvblJlc3VsdC5wYXRobmFtZSxcclxuICAgICAgICBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWVcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBwcmlvciBsb2NhdGlvbiBhbmQgcGF0aG5hbWUgaXMgZW1wdHksIHNldCBpdCB0byAvXHJcbiAgICBpZiAoIWxvY2F0aW9uUmVzdWx0LnBhdGhuYW1lKSB7XHJcbiAgICAgIGxvY2F0aW9uUmVzdWx0LnBhdGhuYW1lID0gXCIvXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcGF0aG5hbWU6IGxvY2F0aW9uUmVzdWx0LnBhdGhuYW1lLFxyXG4gICAgc2VhcmNoOiBsb2NhdGlvblJlc3VsdC5zZWFyY2ggPT09IFwiP1wiID8gXCJcIiA6IGxvY2F0aW9uUmVzdWx0LnNlYXJjaCxcclxuICAgIGhhc2g6IGxvY2F0aW9uUmVzdWx0Lmhhc2ggPT09IFwiI1wiID8gXCJcIiA6IGxvY2F0aW9uUmVzdWx0Lmhhc2gsXHJcbiAgfTtcclxufVxyXG5cclxuLy8g5Yib5bu6cGF0aFxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbiA9IHt9KSB7XHJcbiAgY29uc3QgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0gPSBsb2NhdGlvbjtcclxuXHJcbiAgbGV0IHBhdGggPSBwYXRobmFtZSB8fCBcIi9cIjtcclxuXHJcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2ggIT09IFwiP1wiKVxyXG4gICAgcGF0aCArPSBzZWFyY2guY2hhckF0KDApID09PSBcIj9cIiA/IHNlYXJjaCA6IGA/JHtzZWFyY2h9YDtcclxuXHJcbiAgaWYgKGhhc2ggJiYgaGFzaCAhPT0gXCIjXCIpIHBhdGggKz0gaGFzaC5jaGFyQXQoMCkgPT09IFwiI1wiID8gaGFzaCA6IGAjJHtoYXNofWA7XHJcblxyXG4gIHJldHVybiBwYXRoO1xyXG59XHJcblxyXG4vLyDmmK/lkKbljIXlkKtiYXNlbmFtZVxyXG5leHBvcnQgZnVuY3Rpb24gaGFzQmFzZW5hbWUocGF0aCA9IFwiXCIsIHByZWZpeCA9IFwiXCIpIHtcclxuICByZXR1cm4gKFxyXG4gICAgcGF0aC50b0xvd2VyQ2FzZSgpLmluZGV4T2YocHJlZml4LnRvTG93ZXJDYXNlKCkpID09PSAwICYmXHJcbiAgICBcIi8/I1wiLmluZGV4T2YocGF0aC5jaGFyQXQocHJlZml4Lmxlbmd0aCkpICE9PSAtMVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIOWOu+mZpGJhc2VuYW1lXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJpcEJhc2VuYW1lKHBhdGggPSBcIlwiLCBwcmVmaXggPSBcIlwiKSB7XHJcbiAgcmV0dXJuIGhhc0Jhc2VuYW1lKHBhdGgsIHByZWZpeCkgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDojrflj5ZiYXNlbmFtZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJhc2VIcmVmKCkge1xyXG4gIGxldCBiYXNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJhc2VcIik7XHJcbiAgbGV0IGhyZWYgPSBcIlwiO1xyXG5cclxuICBpZiAoYmFzZSAmJiBiYXNlLmdldEF0dHJpYnV0ZShcImhyZWZcIikpIHtcclxuICAgIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgIGxldCBoYXNoSW5kZXggPSB1cmwuaW5kZXhPZihcIiNcIik7XHJcbiAgICBocmVmID0gaGFzaEluZGV4ID09PSAtMSA/IHVybCA6IHVybC5zbGljZSgwLCBoYXNoSW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGhyZWY7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBsb2NhdGlvbiDmr5TovoNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBsb2NhdGlvbnNBcmVFcXVhbChhLCBiKSB7XHJcbiAgcmV0dXJuIChcclxuICAgIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiZcclxuICAgIGEuc2VhcmNoID09PSBiLnNlYXJjaCAmJlxyXG4gICAgYS5oYXNoID09PSBiLmhhc2ggJiZcclxuICAgIGEua2V5ID09PSBiLmtleSAmJlxyXG4gICAgdmFsdWVFcXVhbChhLnN0YXRlLCBiLnN0YXRlKVxyXG4gICk7XHJcbn1cclxuIiwiaW1wb3J0IHsgZW51bVZhbHVlVHlwZSB9IGZyb20gXCIuLi9jb25maWcvaW5kZXhcIjtcclxuLyoqXHJcbiAqIOWIm+W7uuS6i+S7tumYn+WIl1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50TGlzdChvcHRpb25zID0ge30pIHtcclxuICBjb25zdCB7IGlzTmVlZFJlc3VsdCA9IGZhbHNlLCByZW1vdmVDYWxsYmFjayB9ID0gb3B0aW9ucztcclxuICBsZXQgbGlzdCA9IFtdO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZ2V0IGxlbmd0aCgpIHtcclxuICAgICAgcmV0dXJuIGxpc3QubGVuZ3RoO1xyXG4gICAgfSxcclxuICAgIHB1c2goZm4pIHtcclxuICAgICAgbGlzdC5wdXNoKGZuKTtcclxuICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBsaXN0ID0gbGlzdC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gIT09IGZuKTtcclxuICAgICAgICBpZiAoIWxpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICByZW1vdmVDYWxsYmFjayAmJiByZW1vdmVDYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBjYWxsKGFyZykge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBjb25zdCBmbiA9IGxpc3RbaV07XHJcbiAgICAgICAgcmVzdWx0ID0gZm4gJiYgZm4oYXJnKTtcclxuICAgICAgICBpZiAoaXNOZWVkUmVzdWx0ICYmICFyZXN1bHQpIHtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W5ZSv5LiAa2V5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VW5pcXVlS2V5KGJhc2VEYXRhID0gXCJcIikge1xyXG4gIGNvbnN0IHRpbWVTdHIgPSBEYXRlLm5vdygpLnRvU3RyaW5nKDMyKTtcclxuICBsZXQga2V5ID0gdGltZVN0ciArIGJhc2VEYXRhLnRvU3RyaW5nKCk7XHJcbiAgbGV0IG5ld0tleSA9IFtdO1xyXG4gIGxldCB2ZXJpZmljYXRpb25EYXRhID0gMTsgLy8g5qCh6aqM56CB5L2N572uXHJcbiAgbGV0IG5ld0tleUluZGV4ID0gMDtcclxuICAvLyDph4fnlKjmtbfkvKbmoKHpqoznoIHljp/nkIblpITnkIZcclxuICBmb3IgKGxldCBqID0gMSwgbGVuID0ga2V5Lmxlbmd0aDsgaiA8PSBsZW47IGorKykge1xyXG4gICAgaWYgKGogPT09IHZlcmlmaWNhdGlvbkRhdGEpIHtcclxuICAgICAgbmV3S2V5W25ld0tleUluZGV4XSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgNjUgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDE2KVxyXG4gICAgICApO1xyXG4gICAgICBuZXdLZXlJbmRleCsrO1xyXG4gICAgICB2ZXJpZmljYXRpb25EYXRhID0gMiAqIHZlcmlmaWNhdGlvbkRhdGE7XHJcbiAgICB9XHJcbiAgICBuZXdLZXlbbmV3S2V5SW5kZXhdID0ga2V5W2ogLSAxXTtcclxuICAgIG5ld0tleUluZGV4Kys7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3S2V5LmpvaW4oXCJcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChvYmopIHtcclxuICByZXR1cm4gKFxyXG4gICAgb2JqICYmIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgdG9TdHJpbmcuY2FsbChvYmopID09PSBcIltvYmplY3QgT2JqZWN0XVwiXHJcbiAgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOiOt+WPluaVsOaNruexu+Wei1xyXG4gKiDov5nph4zlj6rogIPomZHln7rmnKzmlbDmja7nsbvlnovvvIxzeW1ib2znrYnkuI3lnKjogIPomZHojIPnlbTlhoVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZVR5cGUodmFsKSB7XHJcbiAgbGV0IHR5cGUgPSBlbnVtVmFsdWVUeXBlLmJhc2ljO1xyXG4gIGlmIChpc09iamVjdCh2YWwpKSB7XHJcbiAgICB0eXBlID0gZW51bVZhbHVlVHlwZS5vYmplY3Q7XHJcbiAgfVxyXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcclxuICAgIHR5cGUgPSBlbnVtVmFsdWVUeXBlLmFycmF5O1xyXG4gIH1cclxufVxyXG4vKipcclxuICog5q+U6L6D5Lik5Liq5YC85piv5ZCm55u4562JXHJcbiAqIEBwYXJhbSB7Kn0gQVxyXG4gKiBAcGFyYW0geyp9IEJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWx1ZUVxdWFsKHZhbHVlQSwgdmFsdWVCKSB7XHJcbiAgY29uc3QgdmFsdWVBVHlwZSA9IGdldFZhbHVlVHlwZSh2YWx1ZUEpO1xyXG4gIGNvbnN0IHZhbHVlQlR5cGUgPSBnZXRWYWx1ZVR5cGUodmFsdWVCKTtcclxuXHJcbiAgLy8g57G75Z6L5LiN55u4562J55qE6IKv5a6a5LiN5LiA5qC3XHJcbiAgaWYgKHZhbHVlQVR5cGUgIT09IHZhbHVlQlR5cGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIOWfuuehgOexu+Wei+ebtOaOpeWFqOetieWIpOaWrVxyXG4gIGlmICh2YWx1ZUFUeXBlID09PSBlbnVtVmFsdWVUeXBlLmJhc2ljKSB7XHJcbiAgICByZXR1cm4gdmFsdWVBID09PSB2YWx1ZUI7XHJcbiAgfVxyXG5cclxuICAvLyDlr7nosaHnmoTpgJLlvZLosIPnlKhcclxuICBpZiAodmFsdWVBVHlwZSA9PT0gZW51bVZhbHVlVHlwZS5vYmplY3QpIHtcclxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZUEpO1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGtleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgY29uc3QgaXNFcXVhbCA9IHZhbHVlRXF1YWwodmFsdWVBW2tleV0sIHZhbHVlQltrZXldKTtcclxuICAgICAgaWYgKCFpc0VxdWFsKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIOaVsOe7hOWFiOWIpOaWremVv+W6pu+8jOeEtuWQjuWGjeWIpOaWreavj+S4gOS4quWAvFxyXG4gIGlmICh2YWx1ZUFUeXBlID09PSBlbnVtVmFsdWVUeXBlLmFycmF5KSB7XHJcbiAgICBpZiAodmFsdWVBLmxlbmd0aCA9PT0gdmFsdWVCLmxlbmd0aCkge1xyXG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdmFsdWVBLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgaXNFcXVhbCA9IHZhbHVlRXF1YWwodmFsdWVBW2ldLCB2YWx1ZUJbaV0pO1xyXG4gICAgICAgIGlmICghaXNFcXVhbCkge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlaTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy8g5re75Yqg6aaW6YOo55qEIC9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZExlYWRpbmdTbGFzaChwYXRoKSB7XHJcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSBcIi9cIiA/IHBhdGggOiBcIi9cIiArIHBhdGg7XHJcbn1cclxuLy8g5Y676Zmk6aaW6YOo55qEIC9cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpIHtcclxuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09IFwiL1wiID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xyXG59XHJcbi8vIOWOu+mZpOWwvumDqOeahCAvXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xyXG4gIHJldHVybiBwYXRoLmNoYXJBdChwYXRoLmxlbmd0aCAtIDEpID09PSBcIi9cIiA/IHBhdGguc2xpY2UoMCwgLTEpIDogcGF0aDtcclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIG1vZHVsZSBleHBvcnRzIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBydW50aW1lIHNvIGVudHJ5IGlubGluaW5nIGlzIGRpc2FibGVkXG4vLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbnJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvaW5kZXguanNcIik7XG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyJdLCJzb3VyY2VSb290IjoiIn0=
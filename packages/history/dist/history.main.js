/*! For license information please see history.main.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.zyliangHistory=t():e.zyliangHistory=t()}(self,(function(){return(()=>{"use strict";var e={"./config/index.js":(e,t,n)=>{n.r(t),n.d(t,{BeforeUnloadEventType:()=>a,HashChangeEventType:()=>o,PopStateEventType:()=>r,actionType:()=>i});const a="beforeunload",o="hashchange",r="popstate",i={push:"PUSH",replace:"REPLACE",pop:"POP"}},"./src/createBrowserHistory.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n("./utils/index.js"),o=n("./config/index.js"),r=n("./utils/LocationUtils.js");function i(e={}){const{window:t=document.defaultView,isShowBeforeUnload:n=!1}=e,i=e.basename?(0,a.stripTrailingSlash)((0,a.addLeadingSlash)(e.basename)):"",s=t.history,c=(0,a.createEventList)(),l=(0,a.createEventList)({isNeedResult:!0});let u=o.actionType.pop,f=(0,r.createLocation)({path:t.location.href,basename:i,state:s.state});t.addEventListener(o.PopStateEventType,(e=>{let n=(0,r.createLocation)({path:t.location.href,basename:i,state:s.state});(0,r.createPath)(n)!==(0,r.createPath)(f)&&function(e){if(h)h=!1;else{const t={action:o.actionType.pop,location:e};if(l.length){if(!l.call(t)){const t=f.state.index-e.state.index;h=!0,g(t)}}else d(t)}}(n)}));let h=null;function p(e){const{action:t,location:n}=e;return!l.length||l.call({action:t,location:n})}function d(e){u=e.action,f=e.location,c.call({action:u,location:f})}function g(e){s.go(e)}function y(e){n&&(e.preventDefault(),e.returnValue="")}return{get action(){return u},get location(){return f},createHref:function(e){if("string"==typeof e)return(0,r.createPath)((0,r.createLocation)({path:e,basename:i}))},push:function(e,t){const n=o.actionType.push,a=Object.assign({},t,{index:f.state&&f.state.index+1}),c=(0,r.createLocation)({path:e,state:a,basename:i}),l={action:n,location:c};if(p(l)){try{const e=(0,r.getBaseHref)()+i+(0,r.createPath)(c);s.pushState(a,"",e)}catch(e){console.error(e)}d(l)}},replace:function(e,t){const n=o.actionType.push,a=Object.assign({},t,{index:f.state&&f.state.index+1}),c=(0,r.createLocation)({path:e,state:a,basename:i}),l={action:n,location:c};if(p(l)){try{const e=(0,r.getBaseHref)()+i+(0,r.createPath)(c);s.pushState(a,"",e)}catch(e){console.error(e)}d(l)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return c.push(e)},block:function(e){let n=l.push(e);return 1===l.length&&t.addEventListener(o.BeforeUnloadEventType,y),()=>{n(),l.length||t.removeEventListener(o.BeforeUnloadEventType,y)}}}}},"./src/createHashHistory.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n("./utils/index.js"),o=n("./config/index.js"),r=n("./utils/LocationUtils.js");function i(e={}){const{window:t=document.defaultView,isShowBeforeUnload:n=!1}=e,i=e.basename?(0,a.stripTrailingSlash)((0,a.addLeadingSlash)(e.basename)):"",s=t.history,c=(0,a.createEventList)(),l=(0,a.createEventList)({isNeedResult:!0});let u=o.actionType.pop,f=(0,r.createLocation)({path:t.location.hash.substr(1),basename:i,state:s.state});t.addEventListener(o.HashChangeEventType,(e=>{let n=(0,r.createLocation)({path:t.location.hash.substr(1),basename:i,state:s.state});(0,r.createPath)(n)!==(0,r.createPath)(f)&&function(e){{const t={action:o.actionType.pop,location:e};if(l.length){if(!l.call(t)){d(f.state.index-e.state.index)}}else p(t)}}(n)}));function h(e){const{action:t,location:n}=e;return!l.length||l.call({action:t,location:n})}function p(e){u=e.action,f=e.location,c.call({action:u,location:f})}function d(e){s.go(e)}function g(e){n&&(e.preventDefault(),e.returnValue="")}return{get action(){return u},get location(){return f},createHref:function(e){if("string"==typeof e)return(0,r.createPath)((0,r.createLocation)({path:e,basename:i}))},push:function(e,t){const n=o.actionType.push,a=Object.assign({},t,{index:f.state&&f.state.index+1}),c=(0,r.createLocation)({path:e,state:a,basename:i}),l={action:n,location:c};if(h(l)){try{const e=(0,r.getBaseHref)()+"#"+i+(0,r.createPath)(c);s.pushState(a,"",e)}catch(e){console.error(e)}p(l)}},replace:function(e,t){const n=o.actionType.push,a=Object.assign({},t,{index:f.state&&f.state.index+1}),c=(0,r.createLocation)({path:e,state:a,basename:i}),l={action:n,location:c};if(h(l)){try{const e=(0,r.getBaseHref)()+"#"+i+(0,r.createPath)(c);s.pushState(a,"",e)}catch(e){console.error(e)}p(l)}},go:d,back:function(){d(-1)},forward:function(){d(1)},listen:function(e){return c.push(e)},block:function(e){let n=l.push(e);return 1===l.length&&t.addEventListener(o.BeforeUnloadEventType,g),()=>{n(),l.length||t.removeEventListener(o.BeforeUnloadEventType,g)}}}}},"./src/index.js":(e,t,n)=>{n.r(t),n.d(t,{createHashHistory:()=>a.default,createBrowserHistory:()=>o.default});var a=n("./src/createHashHistory.js"),o=n("./src/createBrowserHistory.js")},"./utils/LocationUtils.js":(e,t,n)=>{n.r(t),n.d(t,{createLocation:()=>o,parsePath:()=>r,createPath:()=>i,hasBasename:()=>s,stripBasename:()=>c,getBaseHref:()=>l});var a=n("./utils/index.js");function o(e={}){const{path:t,basename:n,key:o=(0,a.getUniqueKey)(),state:i={index:0}}=e;return{...r(t,n),key:o,state:i}}function r(e,t){let n=e||"/",a="",o="";const r=n.indexOf("#");r>-1&&(o=n.substr(r),n=n.substr(0,r));const i=n.indexOf("?");return i>-1&&(a=n.substr(i),n=n.substr(0,i)),n=c(n,t),{pathname:n,search:"?"===a?"":a,hash:"#"===o?"":o}}function i(e={}){const{pathname:t,search:n,hash:a}=e;let o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:`?${n}`),a&&"#"!==a&&(o+="#"===a.charAt(0)?a:`#${a}`),o}function s(e="",t=""){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function c(e="",t=""){return s(e,t)?e.substr(t.length):e}function l(){let e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){let e=window.location.href,n=e.indexOf("#");t=-1===n?e:e.slice(0,n)}return t}},"./utils/index.js":(e,t,n)=>{function a(){let e=[];return{get length(){return e.length},push:t=>(e.push(t),()=>{e=e.filter((e=>e!==t))}),call(t){e.forEach((e=>{e&&e(t)}))}}}function o(e=""){let t=Date.now().toString(32)+e.toString(),n=[],a=1,o=0;for(let e=1,r=t.length;e<=r;e++)e===a&&(n[o]=String.fromCharCode(65+Math.floor(22*Math.random())),o++,a*=2),n[o]=t[e-1],o++;return n.join("")}function r(e,t){const n=getValueType(e);if(n!==getValueType(t))return!1;if(n===enumValueType.basic)return e===t;if(n===enumValueType.object){const n=Object.keys(e);for(let a=0,o=n.length;a<o;a++){const o=n[a];if(!r(e[o],t[o]))return!1}}if(i,n===enumValueType.array){if(e.length!==t.length)return falsei;for(let n=0,a=e.length;n<a;n++){if(!r(e[n],t[n]))return!1}}return!1}function s(e){return"/"===e.charAt(0)?e:"/"+e}function c(e){return"/"===e.charAt(0)?e.substr(1):e}function l(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}n.r(t),n.d(t,{createEventList:()=>a,getUniqueKey:()=>o,valueEqual:()=>r,addLeadingSlash:()=>s,stripLeadingSlash:()=>c,stripTrailingSlash:()=>l})}},t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n("./src/index.js")})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96eWxpYW5nSGlzdG9yeS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3RvcnkvLi9jb25maWcvaW5kZXguanMiLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3RvcnkvLi9zcmMvY3JlYXRlQnJvd3Nlckhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3RvcnkvLi9zcmMvY3JlYXRlSGFzaEhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3RvcnkvLi91dGlscy9Mb2NhdGlvblV0aWxzLmpzIiwid2VicGFjazovL3p5bGlhbmdIaXN0b3J5Ly4vdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3Rvcnkvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8venlsaWFuZ0hpc3Rvcnkvd2VicGFjay9zdGFydHVwIiwid2VicGFjazovL3p5bGlhbmdIaXN0b3J5L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly96eWxpYW5nSGlzdG9yeS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3p5bGlhbmdIaXN0b3J5L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIkJlZm9yZVVubG9hZEV2ZW50VHlwZSIsIkhhc2hDaGFuZ2VFdmVudFR5cGUiLCJQb3BTdGF0ZUV2ZW50VHlwZSIsImFjdGlvblR5cGUiLCJwdXNoIiwicmVwbGFjZSIsInBvcCIsImNyZWF0ZUJyb3dzZXJIaXN0b3J5Iiwib3B0aW9ucyIsIndpbmRvdyIsImRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJpc1Nob3dCZWZvcmVVbmxvYWQiLCJiYXNlbmFtZSIsInN0cmlwVHJhaWxpbmdTbGFzaCIsImFkZExlYWRpbmdTbGFzaCIsImdsb2JhbEhpc3RvcnkiLCJoaXN0b3J5IiwibGlzdGVuZXJzIiwiY3JlYXRlRXZlbnRMaXN0IiwiYmxvY2tlcnMiLCJpc05lZWRSZXN1bHQiLCJhY3Rpb24iLCJsb2NhdGlvbiIsImNyZWF0ZUxvY2F0aW9uIiwicGF0aCIsImhyZWYiLCJzdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsIm5leHRMb2NhdGlvbiIsImNyZWF0ZVBhdGgiLCJibG9ja2VkUG9wVHgiLCJzZW5kRGF0YSIsImxlbmd0aCIsImNhbGwiLCJsYXN0SW5kZXgiLCJpbmRleCIsImdvIiwiYXBwbHlUbyIsImhhbmRsZVBvcCIsImFsbG93VG8iLCJwcm9wcyIsInByb21wdEJlZm9yZVVubG9hZCIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJjcmVhdGVIcmVmIiwibmV3QWN0aW9uIiwibmV3U3RhdGUiLCJPYmplY3QiLCJhc3NpZ24iLCJuZXdMb2NhdGlvbiIsInVybCIsImdldEJhc2VIcmVmIiwicHVzaFN0YXRlIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImJhY2siLCJmb3J3YXJkIiwibGlzdGVuIiwibGlzdGVuZXIiLCJibG9jayIsImJsb2NrZXIiLCJ1bmJsb2NrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNyZWF0ZUhhc2hIaXN0b3J5IiwiaGFzaCIsInN1YnN0ciIsInBhcmFtcyIsImtleSIsImdldFVuaXF1ZUtleSIsInBhcnNlUGF0aCIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaEluZGV4IiwiaW5kZXhPZiIsInNlYXJjaEluZGV4Iiwic3RyaXBCYXNlbmFtZSIsImNoYXJBdCIsImhhc0Jhc2VuYW1lIiwicHJlZml4IiwidG9Mb3dlckNhc2UiLCJiYXNlIiwicXVlcnlTZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsInNsaWNlIiwibGlzdCIsImZuIiwiZmlsdGVyIiwiaXRlbSIsImFyZyIsImZvckVhY2giLCJiYXNlRGF0YSIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsIm5ld0tleSIsInZlcmlmaWNhdGlvbkRhdGEiLCJuZXdLZXlJbmRleCIsImoiLCJsZW4iLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJqb2luIiwidmFsdWVFcXVhbCIsInZhbHVlQSIsInZhbHVlQiIsInZhbHVlQVR5cGUiLCJnZXRWYWx1ZVR5cGUiLCJlbnVtVmFsdWVUeXBlIiwiYmFzaWMiLCJvYmplY3QiLCJrZXlzIiwiaSIsImFycmF5IiwiZmFsc2VpIiwic3RyaXBMZWFkaW5nU2xhc2giLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiXSwibWFwcGluZ3MiOiI7Q0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILEdBQ2UsaUJBQVpDLFFBQ2RBLFFBQXdCLGVBQUlELElBRTVCRCxFQUFxQixlQUFJQyxJQVIzQixDQVNHSyxNQUFNLFdBQ1QsTSx1S0NWTyxNQUFNQyxFQUF3QixlQUN4QkMsRUFBc0IsYUFDdEJDLEVBQW9CLFdBS3BCQyxFQUFhLENBQ3pCQyxLQUFNLE9BQ05DLFFBQVMsVUFDVEMsSUFBSyxRLDZKQ1VTLFNBQVNDLEVBQXFCQyxFQUFVLElBQ3JELE1BQU0sT0FBRUMsRUFBU0MsU0FBU0MsWUFBVyxtQkFBRUMsR0FBcUIsR0FBVUosRUFFaEVLLEVBQVdMLEVBQVFLLFVBQ3JCLElBQUFDLHFCQUFtQixJQUFBQyxpQkFBZ0JQLEVBQVFL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WDZJLFFBQTBCQSxPQUFPQyxhQUMxQ3hGLE9BQU8rRSxlQUFlckksRUFBUzZJLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RHpGLE9BQU8rRSxlQUFlckksRUFBUyxhQUFjLENBQUUrSSxPQUFPLEtIRmhEaEIsRUFBb0IsbUIiLCJmaWxlIjoiaGlzdG9yeS5tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wienlsaWFuZ0hpc3RvcnlcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wienlsaWFuZ0hpc3RvcnlcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJleHBvcnQgY29uc3QgQmVmb3JlVW5sb2FkRXZlbnRUeXBlID0gXCJiZWZvcmV1bmxvYWRcIjtcclxuZXhwb3J0IGNvbnN0IEhhc2hDaGFuZ2VFdmVudFR5cGUgPSBcImhhc2hjaGFuZ2VcIjtcclxuZXhwb3J0IGNvbnN0IFBvcFN0YXRlRXZlbnRUeXBlID0gXCJwb3BzdGF0ZVwiO1xyXG5cclxuLyoqXHJcbiAqIOWOhuWPsuagiOS4iuS4gOasoeaTjeS9nOeahOexu+Wei1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGFjdGlvblR5cGUgPSB7XHJcblx0cHVzaDogXCJQVVNIXCIsIC8vIOaOqOWFpeagiFxyXG5cdHJlcGxhY2U6IFwiUkVQTEFDRVwiLCAvLyDmm7/mjaLmoIhcclxuXHRwb3A6IFwiUE9QXCIsIC8vIOWIneWni+WAvFxyXG59O1xyXG4iLCJpbXBvcnQge1xyXG4gIGNyZWF0ZUV2ZW50TGlzdCxcclxuICBzdHJpcFRyYWlsaW5nU2xhc2gsXHJcbiAgYWRkTGVhZGluZ1NsYXNoLFxyXG59IGZyb20gXCIuLi91dGlscy9pbmRleFwiO1xyXG5pbXBvcnQge1xyXG4gIEJlZm9yZVVubG9hZEV2ZW50VHlwZSxcclxuICBIYXNoQ2hhbmdlRXZlbnRUeXBlLFxyXG4gIFBvcFN0YXRlRXZlbnRUeXBlLFxyXG4gIGFjdGlvblR5cGUsXHJcbn0gZnJvbSBcIi4uL2NvbmZpZy9pbmRleFwiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZVBhdGgsXHJcbiAgY3JlYXRlTG9jYXRpb24sXHJcbiAgZ2V0QmFzZUhyZWYsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL0xvY2F0aW9uVXRpbHNcIjtcclxuLyoqXHJcbiAqIOWIm+W7umhpc3Rvcnnot6/nlLFcclxuICogQHBhcmFtIHsqfSBvcHRpb25zXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeShvcHRpb25zID0ge30pIHtcclxuICBjb25zdCB7IHdpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LCBpc1Nob3dCZWZvcmVVbmxvYWQgPSBmYWxzZSB9ID0gb3B0aW9ucztcclxuXHJcbiAgY29uc3QgYmFzZW5hbWUgPSBvcHRpb25zLmJhc2VuYW1lXHJcbiAgICA/IHN0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gob3B0aW9ucy5iYXNlbmFtZSkpXHJcbiAgICA6IFwiXCI7XHJcblxyXG4gIC8vIOWFqOWxgGhpc3RvcnlcclxuICBjb25zdCBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XHJcblxyXG4gIC8vIOiuoumYheiAhemYn+WIl1xyXG4gIGNvbnN0IGxpc3RlbmVycyA9IGNyZWF0ZUV2ZW50TGlzdCgpO1xyXG4gIC8vIOaPkOekuuS6i+S7tumYn+WIl1xyXG4gIGNvbnN0IGJsb2NrZXJzID0gY3JlYXRlRXZlbnRMaXN0KHsgaXNOZWVkUmVzdWx0OiB0cnVlIH0pO1xyXG5cclxuICBsZXQgYWN0aW9uID0gYWN0aW9uVHlwZS5wb3A7XHJcbiAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oe1xyXG4gICAgcGF0aDogd2luZG93LmxvY2F0aW9uLmhyZWYsXHJcbiAgICBiYXNlbmFtZSxcclxuICAgIHN0YXRlOiBnbG9iYWxIaXN0b3J5LnN0YXRlLFxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiDorr7nva7nm5HlkKws5Y+q5pyJ5YaNZ28sYmFjayxmb3J3YXJk5LiJ56eN5oOF5Ya15LiL5Lya6Kem5Y+RXHJcbiAgICovXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudFR5cGUsIChldmVudCkgPT4ge1xyXG4gICAgbGV0IG5leHRMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHtcclxuICAgICAgcGF0aDogd2luZG93LmxvY2F0aW9uLmhyZWYsXHJcbiAgICAgIGJhc2VuYW1lLFxyXG4gICAgICBzdGF0ZTogZ2xvYmFsSGlzdG9yeS5zdGF0ZSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIElnbm9yZSBleHRyYW5lb3VzIGhhc2hjaGFuZ2UgZXZlbnRzLlxyXG4gICAgLy8g6L+Z6YeM5oSf6KeJ5Y+v5Lul5L2/55SoZXZlbnTkuK3nmoTmlbDmja7vvIzkvYbmmK/ov5nmoLflhpnlj6/ku6Xpgb/lhY3kuI3lkIznjq/looNoYXNo5Lit5pWw5o2u5byC5bi455qE6Zeu6aKYXHJcbiAgICBpZiAoY3JlYXRlUGF0aChuZXh0TG9jYXRpb24pICE9PSBjcmVhdGVQYXRoKGxvY2F0aW9uKSkge1xyXG4gICAgICBoYW5kbGVQb3AobmV4dExvY2F0aW9uKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgbGV0IGJsb2NrZWRQb3BUeCA9IG51bGw7XHJcbiAgLyoqXHJcbiAgICogaGFzaOaUueWPmOWHuuWPkeS6i+S7tlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGhhbmRsZVBvcChuZXh0TG9jYXRpb24pIHtcclxuICAgIGlmIChibG9ja2VkUG9wVHgpIHtcclxuICAgICAgYmxvY2tlZFBvcFR4ID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBuZXh0QWN0aW9uID0gYWN0aW9uVHlwZS5wb3A7XHJcbiAgICAgIGNvbnN0IHNlbmREYXRhID0ge1xyXG4gICAgICAgIGFjdGlvbjogbmV4dEFjdGlvbixcclxuICAgICAgICBsb2NhdGlvbjogbmV4dExvY2F0aW9uLFxyXG4gICAgICB9O1xyXG4gICAgICBpZiAoYmxvY2tlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgbGV0IGlzT2sgPSBibG9ja2Vycy5jYWxsKHNlbmREYXRhKTtcclxuICAgICAgICBpZiAoIWlzT2spIHtcclxuICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IGxvY2F0aW9uLnN0YXRlLmluZGV4IC0gbmV4dExvY2F0aW9uLnN0YXRlLmluZGV4O1xyXG4gICAgICAgICAgYmxvY2tlZFBvcFR4ID0gdHJ1ZTtcclxuICAgICAgICAgIGdvKGxhc3RJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcGx5VG8oc2VuZERhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDnlJ/miJDpk77mjqVcclxuICAgKi9cclxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKHBhdGgpIHtcclxuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICByZXR1cm4gY3JlYXRlUGF0aChcclxuICAgICAgICBjcmVhdGVMb2NhdGlvbih7XHJcbiAgICAgICAgICBwYXRoLFxyXG4gICAgICAgICAgYmFzZW5hbWUsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaYr+WQpuWFgeiuuOi3s+i9rFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFsbG93VG8ocHJvcHMpIHtcclxuICAgIGNvbnN0IHsgYWN0aW9uLCBsb2NhdGlvbiB9ID0gcHJvcHM7XHJcbiAgICByZXR1cm4gIWJsb2NrZXJzLmxlbmd0aCB8fCBibG9ja2Vycy5jYWxsKHsgYWN0aW9uLCBsb2NhdGlvbiB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWFgeiuuOi3s+i9rFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFwcGx5VG8ocHJvcHMpIHtcclxuICAgIGFjdGlvbiA9IHByb3BzLmFjdGlvbjtcclxuICAgIGxvY2F0aW9uID0gcHJvcHMubG9jYXRpb247XHJcbiAgICBsaXN0ZW5lcnMuY2FsbCh7IGFjdGlvbiwgbG9jYXRpb24gfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmt7vliqDot6/nlLFcclxuICAgKi9cclxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XHJcbiAgICBjb25zdCBuZXdBY3Rpb24gPSBhY3Rpb25UeXBlLnB1c2g7XHJcbiAgICBjb25zdCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgIGluZGV4OiBsb2NhdGlvbi5zdGF0ZSAmJiBsb2NhdGlvbi5zdGF0ZS5pbmRleCArIDEsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5ld0xvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oe1xyXG4gICAgICBwYXRoLFxyXG4gICAgICBzdGF0ZTogbmV3U3RhdGUsXHJcbiAgICAgIGJhc2VuYW1lLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzZW5kRGF0YSA9IHtcclxuICAgICAgYWN0aW9uOiBuZXdBY3Rpb24sXHJcbiAgICAgIGxvY2F0aW9uOiBuZXdMb2NhdGlvbixcclxuICAgIH07XHJcbiAgICBpZiAoYWxsb3dUbyhzZW5kRGF0YSkpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1cmwgPSBnZXRCYXNlSHJlZigpICsgYmFzZW5hbWUgKyBjcmVhdGVQYXRoKG5ld0xvY2F0aW9uKTtcclxuICAgICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZShuZXdTdGF0ZSwgXCJcIiwgdXJsKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgIH1cclxuICAgICAgYXBwbHlUbyhzZW5kRGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmm7/mjaJcclxuICAgKi9cclxuICBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XHJcbiAgICBjb25zdCBuZXdBY3Rpb24gPSBhY3Rpb25UeXBlLnB1c2g7XHJcbiAgICBjb25zdCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgIGluZGV4OiBsb2NhdGlvbi5zdGF0ZSAmJiBsb2NhdGlvbi5zdGF0ZS5pbmRleCArIDEsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5ld0xvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oeyBwYXRoLCBzdGF0ZTogbmV3U3RhdGUsIGJhc2VuYW1lIH0pO1xyXG4gICAgY29uc3Qgc2VuZERhdGEgPSB7XHJcbiAgICAgIGFjdGlvbjogbmV3QWN0aW9uLFxyXG4gICAgICBsb2NhdGlvbjogbmV3TG9jYXRpb24sXHJcbiAgICB9O1xyXG4gICAgaWYgKGFsbG93VG8oc2VuZERhdGEpKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gZ2V0QmFzZUhyZWYoKSArIGJhc2VuYW1lICsgY3JlYXRlUGF0aChuZXdMb2NhdGlvbik7XHJcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUobmV3U3RhdGUsIFwiXCIsIHVybCk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGFwcGx5VG8oc2VuZERhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6Lez6L2sXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ28oaW5kZXgpIHtcclxuICAgIGdsb2JhbEhpc3RvcnkuZ28oaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Zue6YCAXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYmFjaygpIHtcclxuICAgIGdvKC0xKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWJjei/m1xyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGZvcndhcmQoKSB7XHJcbiAgICBnbygxKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOazqOWGjOiuoumYheiAhVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XHJcbiAgICByZXR1cm4gbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6aG16Z2i5Yi35paw5YmN55qE5aSE55CG5pON5L2cXHJcbiAgICog5Y+q5pyJaGlzdG9yeS5iYWNrKCkg5ZKMIGhpc3RvcnkuZm9yd2FyZCgp5Lya6Kem5Y+RRlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHByb21wdEJlZm9yZVVubG9hZChldmVudCkge1xyXG4gICAgaWYgKCFpc1Nob3dCZWZvcmVVbmxvYWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gQ2FuY2VsIHRoZSBldmVudCBhcyBzdGF0ZWQgYnkgdGhlIHN0YW5kYXJkLlxyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vIENocm9tZSByZXF1aXJlcyByZXR1cm5WYWx1ZSB0byBiZSBzZXQuXHJcbiAgICBldmVudC5yZXR1cm5WYWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmj5DnpLpcclxuICAgKi9cclxuICBmdW5jdGlvbiBibG9jayhibG9ja2VyKSB7XHJcbiAgICBsZXQgdW5ibG9jayA9IGJsb2NrZXJzLnB1c2goYmxvY2tlcik7XHJcbiAgICBpZiAoYmxvY2tlcnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEJlZm9yZVVubG9hZEV2ZW50VHlwZSwgcHJvbXB0QmVmb3JlVW5sb2FkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB1bmJsb2NrKCk7XHJcbiAgICAgIGlmICghYmxvY2tlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoQmVmb3JlVW5sb2FkRXZlbnRUeXBlLCBwcm9tcHRCZWZvcmVVbmxvYWQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgbGV0IGhpc3RvcnkgPSB7XHJcbiAgICBnZXQgYWN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gYWN0aW9uO1xyXG4gICAgfSxcclxuICAgIGdldCBsb2NhdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGxvY2F0aW9uO1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZUhyZWYsXHJcbiAgICBwdXNoLFxyXG4gICAgcmVwbGFjZSxcclxuICAgIGdvLFxyXG4gICAgYmFjayxcclxuICAgIGZvcndhcmQsXHJcbiAgICBsaXN0ZW4sXHJcbiAgICBibG9jayxcclxuICB9O1xyXG5cclxuICByZXR1cm4gaGlzdG9yeTtcclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIGNyZWF0ZUV2ZW50TGlzdCxcclxuICBzdHJpcFRyYWlsaW5nU2xhc2gsXHJcbiAgYWRkTGVhZGluZ1NsYXNoLFxyXG59IGZyb20gXCIuLi91dGlscy9pbmRleFwiO1xyXG5pbXBvcnQge1xyXG4gIEJlZm9yZVVubG9hZEV2ZW50VHlwZSxcclxuICBIYXNoQ2hhbmdlRXZlbnRUeXBlLFxyXG4gIFBvcFN0YXRlRXZlbnRUeXBlLFxyXG4gIGFjdGlvblR5cGUsXHJcbn0gZnJvbSBcIi4uL2NvbmZpZy9pbmRleFwiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZVBhdGgsXHJcbiAgY3JlYXRlTG9jYXRpb24sXHJcbiAgZ2V0QmFzZUhyZWYsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL0xvY2F0aW9uVXRpbHNcIjtcclxuLyoqXHJcbiAqIOWIm+W7umhpc3Rvcnnot6/nlLFcclxuICogQHBhcmFtIHsqfSBvcHRpb25zXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVIYXNoSGlzdG9yeShvcHRpb25zID0ge30pIHtcclxuICBjb25zdCB7IHdpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LCBpc1Nob3dCZWZvcmVVbmxvYWQgPSBmYWxzZSB9ID0gb3B0aW9ucztcclxuXHJcbiAgY29uc3QgYmFzZW5hbWUgPSBvcHRpb25zLmJhc2VuYW1lXHJcbiAgICA/IHN0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gob3B0aW9ucy5iYXNlbmFtZSkpXHJcbiAgICA6IFwiXCI7XHJcblxyXG4gIC8vIOWFqOWxgGhpc3RvcnlcclxuICBjb25zdCBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XHJcblxyXG4gIC8vIOiuoumYheiAhemYn+WIl1xyXG4gIGNvbnN0IGxpc3RlbmVycyA9IGNyZWF0ZUV2ZW50TGlzdCgpO1xyXG4gIC8vIOaPkOekuuS6i+S7tumYn+WIl1xyXG4gIGNvbnN0IGJsb2NrZXJzID0gY3JlYXRlRXZlbnRMaXN0KHsgaXNOZWVkUmVzdWx0OiB0cnVlIH0pO1xyXG5cclxuICBsZXQgYWN0aW9uID0gYWN0aW9uVHlwZS5wb3A7XHJcbiAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oe1xyXG4gICAgcGF0aDogd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpLFxyXG4gICAgYmFzZW5hbWUsXHJcbiAgICBzdGF0ZTogZ2xvYmFsSGlzdG9yeS5zdGF0ZSxcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICog6K6+572u55uR5ZCsLOWPquacieWGjWdvLGJhY2ssZm9yd2FyZOS4ieenjeaDheWGteS4i+S8muinpuWPkVxyXG4gICAqL1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudFR5cGUsIChldmVudCkgPT4ge1xyXG4gICAgbGV0IG5leHRMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHtcclxuICAgICAgcGF0aDogd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpLFxyXG4gICAgICBiYXNlbmFtZSxcclxuICAgICAgc3RhdGU6IGdsb2JhbEhpc3Rvcnkuc3RhdGUsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJZ25vcmUgZXh0cmFuZW91cyBoYXNoY2hhbmdlIGV2ZW50cy5cclxuICAgIC8vIOi/memHjOaEn+inieWPr+S7peS9v+eUqGV2ZW505Lit55qE5pWw5o2u77yM5L2G5piv6L+Z5qC35YaZ5Y+v5Lul6YG/5YWN5LiN5ZCM546v5aKDaGFzaOS4reaVsOaNruW8guW4uOeahOmXrumimFxyXG4gICAgaWYgKGNyZWF0ZVBhdGgobmV4dExvY2F0aW9uKSAhPT0gY3JlYXRlUGF0aChsb2NhdGlvbikpIHtcclxuICAgICAgaGFuZGxlUG9wKG5leHRMb2NhdGlvbik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGxldCBibG9ja2VkUG9wVHggPSBudWxsO1xyXG4gIC8qKlxyXG4gICAqIGhhc2jmlLnlj5jlh7rlj5Hkuovku7ZcclxuICAgKi9cclxuICBmdW5jdGlvbiBoYW5kbGVQb3AobmV4dExvY2F0aW9uKSB7XHJcbiAgICBpZiAoYmxvY2tlZFBvcFR4KSB7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBuZXh0QWN0aW9uID0gYWN0aW9uVHlwZS5wb3A7XHJcbiAgICAgIGNvbnN0IHNlbmREYXRhID0ge1xyXG4gICAgICAgIGFjdGlvbjogbmV4dEFjdGlvbixcclxuICAgICAgICBsb2NhdGlvbjogbmV4dExvY2F0aW9uLFxyXG4gICAgICB9O1xyXG4gICAgICBpZiAoYmxvY2tlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgbGV0IGlzT2sgPSBibG9ja2Vycy5jYWxsKHNlbmREYXRhKTtcclxuICAgICAgICBpZiAoIWlzT2spIHtcclxuICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IGxvY2F0aW9uLnN0YXRlLmluZGV4IC0gbmV4dExvY2F0aW9uLnN0YXRlLmluZGV4O1xyXG4gICAgICAgICAgZ28obGFzdEluZGV4KVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHBseVRvKHNlbmREYXRhKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog55Sf5oiQ6ZO+5o6lXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihwYXRoKSB7XHJcbiAgICBpZiAodHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgcmV0dXJuIGNyZWF0ZVBhdGgoXHJcbiAgICAgICAgY3JlYXRlTG9jYXRpb24oe1xyXG4gICAgICAgICAgcGF0aCxcclxuICAgICAgICAgIGJhc2VuYW1lLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmmK/lkKblhYHorrjot7PovaxcclxuICAgKi9cclxuICBmdW5jdGlvbiBhbGxvd1RvKHByb3BzKSB7XHJcblx0Y29uc3QgeyBhY3Rpb24sIGxvY2F0aW9uIH0gPSBwcm9wcztcclxuICAgIHJldHVybiAhYmxvY2tlcnMubGVuZ3RoIHx8IGJsb2NrZXJzLmNhbGwoeyBhY3Rpb24sIGxvY2F0aW9uIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5YWB6K646Lez6L2sXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYXBwbHlUbyhwcm9wcykge1xyXG4gICAgYWN0aW9uID0gcHJvcHMuYWN0aW9uO1xyXG4gICAgbG9jYXRpb24gPSBwcm9wcy5sb2NhdGlvbjtcclxuICAgIGxpc3RlbmVycy5jYWxsKHsgYWN0aW9uLCBsb2NhdGlvbiB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOa3u+WKoOi3r+eUsVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcclxuICAgIGNvbnN0IG5ld0FjdGlvbiA9IGFjdGlvblR5cGUucHVzaDtcclxuICAgIGNvbnN0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcclxuICAgICAgaW5kZXg6IGxvY2F0aW9uLnN0YXRlICYmIGxvY2F0aW9uLnN0YXRlLmluZGV4ICsgMSxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgbmV3TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbih7XHJcbiAgICAgIHBhdGgsXHJcbiAgICAgIHN0YXRlOiBuZXdTdGF0ZSxcclxuICAgICAgYmFzZW5hbWUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHNlbmREYXRhID0ge1xyXG4gICAgICBhY3Rpb246IG5ld0FjdGlvbixcclxuICAgICAgbG9jYXRpb246IG5ld0xvY2F0aW9uLFxyXG4gICAgfTtcclxuICAgIGlmIChhbGxvd1RvKHNlbmREYXRhKSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGdldEJhc2VIcmVmKCkgKyBcIiNcIiArIGJhc2VuYW1lICsgY3JlYXRlUGF0aChuZXdMb2NhdGlvbik7XHJcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUobmV3U3RhdGUsIFwiXCIsIHVybCk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGFwcGx5VG8oc2VuZERhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pu/5o2iXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xyXG4gICAgY29uc3QgbmV3QWN0aW9uID0gYWN0aW9uVHlwZS5wdXNoO1xyXG4gICAgY29uc3QgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xyXG4gICAgICBpbmRleDogbG9jYXRpb24uc3RhdGUgJiYgbG9jYXRpb24uc3RhdGUuaW5kZXggKyAxLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBuZXdMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHsgcGF0aCwgc3RhdGU6IG5ld1N0YXRlLCBiYXNlbmFtZSB9KTtcclxuICAgIGNvbnN0IHNlbmREYXRhID0ge1xyXG4gICAgICBhY3Rpb246IG5ld0FjdGlvbixcclxuICAgICAgbG9jYXRpb246IG5ld0xvY2F0aW9uLFxyXG4gICAgfTtcclxuICAgIGlmIChhbGxvd1RvKHNlbmREYXRhKSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGdldEJhc2VIcmVmKCkgKyBcIiNcIiArIGJhc2VuYW1lICsgY3JlYXRlUGF0aChuZXdMb2NhdGlvbik7XHJcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUobmV3U3RhdGUsIFwiXCIsIHVybCk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGFwcGx5VG8oc2VuZERhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6Lez6L2sXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ28oaW5kZXgpIHtcclxuICAgIGdsb2JhbEhpc3RvcnkuZ28oaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Zue6YCAXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYmFjaygpIHtcclxuICAgIGdvKC0xKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWJjei/m1xyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGZvcndhcmQoKSB7XHJcbiAgICBnbygxKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOazqOWGjOiuoumYheiAhVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XHJcbiAgICByZXR1cm4gbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6aG16Z2i5Yi35paw5YmN55qE5aSE55CG5pON5L2cXHJcbiAgICog5Y+q5pyJaGlzdG9yeS5iYWNrKCkg5ZKMIGhpc3RvcnkuZm9yd2FyZCgp5Lya6Kem5Y+RRlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHByb21wdEJlZm9yZVVubG9hZChldmVudCkge1xyXG4gICAgaWYgKCFpc1Nob3dCZWZvcmVVbmxvYWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gQ2FuY2VsIHRoZSBldmVudCBhcyBzdGF0ZWQgYnkgdGhlIHN0YW5kYXJkLlxyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vIENocm9tZSByZXF1aXJlcyByZXR1cm5WYWx1ZSB0byBiZSBzZXQuXHJcbiAgICBldmVudC5yZXR1cm5WYWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmj5DnpLpcclxuICAgKi9cclxuICBmdW5jdGlvbiBibG9jayhibG9ja2VyKSB7XHJcbiAgICBsZXQgdW5ibG9jayA9IGJsb2NrZXJzLnB1c2goYmxvY2tlcik7XHJcbiAgICBpZiAoYmxvY2tlcnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEJlZm9yZVVubG9hZEV2ZW50VHlwZSwgcHJvbXB0QmVmb3JlVW5sb2FkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB1bmJsb2NrKCk7XHJcbiAgICAgIGlmICghYmxvY2tlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoQmVmb3JlVW5sb2FkRXZlbnRUeXBlLCBwcm9tcHRCZWZvcmVVbmxvYWQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgbGV0IGhpc3RvcnkgPSB7XHJcbiAgICBnZXQgYWN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gYWN0aW9uO1xyXG4gICAgfSxcclxuICAgIGdldCBsb2NhdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGxvY2F0aW9uO1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZUhyZWYsXHJcbiAgICBwdXNoLFxyXG4gICAgcmVwbGFjZSxcclxuICAgIGdvLFxyXG4gICAgYmFjayxcclxuICAgIGZvcndhcmQsXHJcbiAgICBsaXN0ZW4sXHJcbiAgICBibG9jayxcclxuICB9O1xyXG5cclxuICByZXR1cm4gaGlzdG9yeTtcclxufVxyXG4iLCJpbXBvcnQgeyBnZXRVbmlxdWVLZXkgfSBmcm9tIFwiLi9pbmRleFwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHBhcmFtcyA9IHt9KSB7XHJcbiAgY29uc3Qge1xyXG4gICAgcGF0aCwgLy8g5Zyw5Z2AXHJcbiAgICBiYXNlbmFtZSwgLy9cclxuICAgIGtleSA9IGdldFVuaXF1ZUtleSgpLCAvLyDllK/kuIDlgLxcclxuICAgIHN0YXRlID0ge1xyXG4gICAgICBpbmRleDogMCxcclxuICAgIH0sIC8vIOeKtuaAgeWPguaVsFxyXG4gIH0gPSBwYXJhbXM7XHJcbiAgY29uc3QgYmFzZVBhdGhJbmZvID0gcGFyc2VQYXRoKHBhdGgsIGJhc2VuYW1lKTtcclxuICByZXR1cm4ge1xyXG4gICAgLi4uYmFzZVBhdGhJbmZvLFxyXG4gICAga2V5LFxyXG4gICAgc3RhdGUsXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOino+aekOi3r+W+hFxyXG4gKiBAcGFyYW0geyp9fSBwYXRoXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgsIGJhc2VuYW1lKSB7XHJcbiAgbGV0IHBhdGhuYW1lID0gcGF0aCB8fCBcIi9cIjtcclxuICBsZXQgc2VhcmNoID0gXCJcIjtcclxuICBsZXQgaGFzaCA9IFwiXCI7XHJcblxyXG4gIC8vIOWFiOi/h+a7pGhhc2jlgLzvvIznhLblkI7lho3ov4fmu6RzZWFyY2jnmoTlhoXlrrlcclxuXHJcbiAgY29uc3QgaGFzaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZihcIiNcIik7XHJcbiAgLy8g5a2Y5ZyoaGFzaOWAvFxyXG4gIGlmIChoYXNoSW5kZXggPiAtMSkge1xyXG4gICAgLy8gaGFzaOWAvFxyXG4gICAgaGFzaCA9IHBhdGhuYW1lLnN1YnN0cihoYXNoSW5kZXgpO1xyXG4gICAgLy8gcGF0aG5hbWUg5YC8XHJcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKFwiP1wiKTtcclxuICBpZiAoc2VhcmNoSW5kZXggPiAtMSkge1xyXG4gICAgLy8gc2VhcmNoIOWAvFxyXG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcclxuICAgIC8vIHBhdGhuYW1lIOWAvFxyXG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHIoMCwgc2VhcmNoSW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgcGF0aG5hbWUgPSBzdHJpcEJhc2VuYW1lKHBhdGhuYW1lLCBiYXNlbmFtZSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBwYXRobmFtZSxcclxuICAgIHNlYXJjaDogc2VhcmNoID09PSBcIj9cIiA/IFwiXCIgOiBzZWFyY2gsXHJcbiAgICBoYXNoOiBoYXNoID09PSBcIiNcIiA/IFwiXCIgOiBoYXNoLFxyXG4gIH07XHJcbn1cclxuXHJcbi8vIOWIm+W7unBhdGhcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24gPSB7fSkge1xyXG4gIGNvbnN0IHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9ID0gbG9jYXRpb247XHJcblxyXG4gIGxldCBwYXRoID0gcGF0aG5hbWUgfHwgXCIvXCI7XHJcblxyXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSBcIj9cIilcclxuICAgIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gXCI/XCIgPyBzZWFyY2ggOiBgPyR7c2VhcmNofWA7XHJcblxyXG4gIGlmIChoYXNoICYmIGhhc2ggIT09IFwiI1wiKSBwYXRoICs9IGhhc2guY2hhckF0KDApID09PSBcIiNcIiA/IGhhc2ggOiBgIyR7aGFzaH1gO1xyXG5cclxuICByZXR1cm4gcGF0aDtcclxufVxyXG5cclxuLy8g5piv5ZCm5YyF5ZCrYmFzZW5hbWVcclxuZXhwb3J0IGZ1bmN0aW9uIGhhc0Jhc2VuYW1lKHBhdGggPSBcIlwiLCBwcmVmaXggPSBcIlwiKSB7XHJcbiAgcmV0dXJuIChcclxuICAgIHBhdGgudG9Mb3dlckNhc2UoKS5pbmRleE9mKHByZWZpeC50b0xvd2VyQ2FzZSgpKSA9PT0gMCAmJlxyXG4gICAgXCIvPyNcIi5pbmRleE9mKHBhdGguY2hhckF0KHByZWZpeC5sZW5ndGgpKSAhPT0gLTFcclxuICApO1xyXG59XHJcblxyXG4vLyDljrvpmaRiYXNlbmFtZVxyXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBCYXNlbmFtZShwYXRoID0gXCJcIiwgcHJlZml4ID0gXCJcIikge1xyXG4gIHJldHVybiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpID8gcGF0aC5zdWJzdHIocHJlZml4Lmxlbmd0aCkgOiBwYXRoO1xyXG59XHJcblxyXG4vKipcclxuICog6I635Y+WYmFzZW5hbWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCYXNlSHJlZigpIHtcclxuICBsZXQgYmFzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJiYXNlXCIpO1xyXG4gIGxldCBocmVmID0gXCJcIjtcclxuXHJcbiAgaWYgKGJhc2UgJiYgYmFzZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKSB7XHJcbiAgICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICBsZXQgaGFzaEluZGV4ID0gdXJsLmluZGV4T2YoXCIjXCIpO1xyXG4gICAgaHJlZiA9IGhhc2hJbmRleCA9PT0gLTEgPyB1cmwgOiB1cmwuc2xpY2UoMCwgaGFzaEluZGV4KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBocmVmO1xyXG59XHJcbiIsIi8qKlxyXG4gKiDliJvlu7rkuovku7bpmJ/liJdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudExpc3QoKSB7XHJcbiAgbGV0IGxpc3QgPSBbXTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGdldCBsZW5ndGgoKSB7XHJcbiAgICAgIHJldHVybiBsaXN0Lmxlbmd0aDtcclxuICAgIH0sXHJcbiAgICBwdXNoKGZuKSB7XHJcbiAgICAgIGxpc3QucHVzaChmbik7XHJcbiAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgbGlzdCA9IGxpc3QuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9PSBmbik7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgY2FsbChhcmcpIHtcclxuICAgICAgbGlzdC5mb3JFYWNoKChmbikgPT4ge1xyXG4gICAgICAgIGZuICYmIGZuKGFyZyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W5ZSv5LiAa2V5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VW5pcXVlS2V5KGJhc2VEYXRhID0gXCJcIikge1xyXG4gIGNvbnN0IHRpbWVTdHIgPSBEYXRlLm5vdygpLnRvU3RyaW5nKDMyKTtcclxuICBsZXQga2V5ID0gdGltZVN0ciArIGJhc2VEYXRhLnRvU3RyaW5nKCk7XHJcbiAgbGV0IG5ld0tleSA9IFtdO1xyXG4gIGxldCB2ZXJpZmljYXRpb25EYXRhID0gMTsgLy8g5qCh6aqM56CB5L2N572uXHJcbiAgbGV0IG5ld0tleUluZGV4ID0gMDtcclxuICAvLyDph4fnlKjmtbfkvKbmoKHpqoznoIHljp/nkIblpITnkIZcclxuICBmb3IgKGxldCBqID0gMSwgbGVuID0ga2V5Lmxlbmd0aDsgaiA8PSBsZW47IGorKykge1xyXG4gICAgaWYgKGogPT09IHZlcmlmaWNhdGlvbkRhdGEpIHtcclxuICAgICAgbmV3S2V5W25ld0tleUluZGV4XSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgNjUgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDE2KVxyXG4gICAgICApO1xyXG4gICAgICBuZXdLZXlJbmRleCsrO1xyXG4gICAgICB2ZXJpZmljYXRpb25EYXRhID0gMiAqIHZlcmlmaWNhdGlvbkRhdGE7XHJcbiAgICB9XHJcbiAgICBuZXdLZXlbbmV3S2V5SW5kZXhdID0ga2V5W2ogLSAxXTtcclxuICAgIG5ld0tleUluZGV4Kys7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3S2V5LmpvaW4oXCJcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmr5TovoPkuKTkuKrlgLzmmK/lkKbnm7jnrYlcclxuICogQHBhcmFtIHsqfSBBXHJcbiAqIEBwYXJhbSB7Kn0gQlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlRXF1YWwodmFsdWVBLCB2YWx1ZUIpIHtcclxuICBjb25zdCB2YWx1ZUFUeXBlID0gZ2V0VmFsdWVUeXBlKHZhbHVlQSk7XHJcbiAgY29uc3QgdmFsdWVCVHlwZSA9IGdldFZhbHVlVHlwZSh2YWx1ZUIpO1xyXG5cclxuICAvLyDnsbvlnovkuI3nm7jnrYnnmoTogq/lrprkuI3kuIDmoLdcclxuICBpZiAodmFsdWVBVHlwZSAhPT0gdmFsdWVCVHlwZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8g5Z+656GA57G75Z6L55u05o6l5YWo562J5Yik5patXHJcbiAgaWYgKHZhbHVlQVR5cGUgPT09IGVudW1WYWx1ZVR5cGUuYmFzaWMpIHtcclxuICAgIHJldHVybiB2YWx1ZUEgPT09IHZhbHVlQjtcclxuICB9XHJcblxyXG4gIC8vIOWvueixoeeahOmAkuW9kuiwg+eUqFxyXG4gIGlmICh2YWx1ZUFUeXBlID09PSBlbnVtVmFsdWVUeXBlLm9iamVjdCkge1xyXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlQSk7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0ga2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICBjb25zdCBpc0VxdWFsID0gdmFsdWVFcXVhbCh2YWx1ZUFba2V5XSwgdmFsdWVCW2tleV0pO1xyXG4gICAgICBpZiAoIWlzRXF1YWwpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgaTtcclxuICAvLyDmlbDnu4TlhYjliKTmlq3plb/luqbvvIznhLblkI7lho3liKTmlq3mr4/kuIDkuKrlgLxcclxuICBpZiAodmFsdWVBVHlwZSA9PT0gZW51bVZhbHVlVHlwZS5hcnJheSkge1xyXG4gICAgaWYgKHZhbHVlQS5sZW5ndGggPT09IHZhbHVlQi5sZW5ndGgpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHZhbHVlQS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGlzRXF1YWwgPSB2YWx1ZUVxdWFsKHZhbHVlQVtpXSwgdmFsdWVCW2ldKTtcclxuICAgICAgICBpZiAoIWlzRXF1YWwpIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZWk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8vIOa3u+WKoOmmlumDqOeahCAvXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRMZWFkaW5nU2xhc2gocGF0aCkge1xyXG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gXCIvXCIgPyBwYXRoIDogXCIvXCIgKyBwYXRoO1xyXG59XHJcbi8vIOWOu+mZpOmmlumDqOeahCAvXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XHJcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSBcIi9cIiA/IHBhdGguc3Vic3RyKDEpIDogcGF0aDtcclxufVxyXG4vLyDljrvpmaTlsL7pg6jnmoQgL1xyXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBUcmFpbGluZ1NsYXNoKHBhdGgpIHtcclxuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gXCIvXCIgPyBwYXRoLnNsaWNlKDAsIC0xKSA6IHBhdGg7XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2luZGV4LmpzXCIpO1xuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiXSwic291cmNlUm9vdCI6IiJ9
{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/*! For license information please see history.min.js.LICENSE.txt */\n!function (e, t) {\n  \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : (0, _typeof2[\"default\"])(exports)) && \"object\" == (typeof module === \"undefined\" ? \"undefined\" : (0, _typeof2[\"default\"])(module)) ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : (0, _typeof2[\"default\"])(exports)) ? exports.zyliangHistory = t() : e.zyliangHistory = t();\n}(self, function () {\n  return function () {\n    \"use strict\";\n\n    var e = {\n      \"./config/index.js\": function configIndexJs(e, t, a) {\n        a.r(t), a.d(t, {\n          BeforeUnloadEventType: function BeforeUnloadEventType() {\n            return n;\n          },\n          HashChangeEventType: function HashChangeEventType() {\n            return o;\n          },\n          PopStateEventType: function PopStateEventType() {\n            return r;\n          },\n          actionType: function actionType() {\n            return s;\n          },\n          enumValueType: function enumValueType() {\n            return i;\n          }\n        });\n        var n = \"beforeunload\",\n            o = \"hashchange\",\n            r = \"popstate\",\n            s = {\n          push: \"PUSH\",\n          replace: \"REPLACE\",\n          pop: \"POP\"\n        },\n            i = {\n          object: \"Object\",\n          array: \"Array\",\n          basic: \"Basic\"\n        };\n      },\n      \"./node_modules/resolve-pathname/esm/resolve-pathname.js\": function node_modulesResolvePathnameEsmResolvePathnameJs(e, t, a) {\n        function n(e) {\n          return \"/\" === e.charAt(0);\n        }\n\n        function o(e, t) {\n          for (var a = t, n = a + 1, o = e.length; n < o; a += 1, n += 1) {\n            e[a] = e[n];\n          }\n\n          e.pop();\n        }\n\n        a.r(t), a.d(t, {\n          \"default\": function _default() {\n            return r;\n          }\n        });\n\n        var r = function r(e, t) {\n          void 0 === t && (t = \"\");\n          var a,\n              r = e && e.split(\"/\") || [],\n              s = t && t.split(\"/\") || [],\n              i = e && n(e),\n              c = t && n(t),\n              l = i || c;\n          if (e && n(e) ? s = r : r.length && (s.pop(), s = s.concat(r)), !s.length) return \"/\";\n\n          if (s.length) {\n            var u = s[s.length - 1];\n            a = \".\" === u || \"..\" === u || \"\" === u;\n          } else a = !1;\n\n          for (var h = 0, p = s.length; p >= 0; p--) {\n            var f = s[p];\n            \".\" === f ? o(s, p) : \"..\" === f ? (o(s, p), h++) : h && (o(s, p), h--);\n          }\n\n          if (!l) for (; h--; h) {\n            s.unshift(\"..\");\n          }\n          !l || \"\" === s[0] || s[0] && n(s[0]) || s.unshift(\"\");\n          var d = s.join(\"/\");\n          return a && \"/\" !== d.substr(-1) && (d += \"/\"), d;\n        };\n      },\n      \"./src/createBrowserHistory.js\": function srcCreateBrowserHistoryJs(e, t, a) {\n        a.r(t), a.d(t, {\n          \"default\": function _default() {\n            return s;\n          }\n        });\n        var n = a(\"./utils/index.js\"),\n            o = a(\"./config/index.js\"),\n            r = a(\"./utils/LocationUtils.js\");\n\n        function s() {\n          var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var _e$window = e.window,\n              t = _e$window === void 0 ? document.defaultView : _e$window,\n              _e$isShowBeforeUnload = e.isShowBeforeUnload,\n              a = _e$isShowBeforeUnload === void 0 ? !1 : _e$isShowBeforeUnload,\n              s = e.basename ? (0, n.stripTrailingSlash)((0, n.addLeadingSlash)(e.basename)) : \"\",\n              i = t.history,\n              c = (0, n.createEventList)({\n            removeCallback: f\n          }),\n              l = (0, n.createEventList)({\n            isNeedResult: !0,\n            removeCallback: f\n          });\n          var u = o.actionType.pop,\n              h = (0, r.createLocation)({\n            path: t.location,\n            basename: s,\n            state: i.state\n          });\n\n          function p(e) {\n            var a = (0, r.createLocation)({\n              path: t.location,\n              basename: s,\n              state: i.state\n            });\n            (0, r.createPath)(a) !== (0, r.createPath)(h) && function (e) {\n              if (d) d = !1, console.log(\"blockedPopTx\", d);else {\n                var _t = {\n                  action: o.actionType.pop,\n                  location: e\n                };\n\n                if (l.length) {\n                  if (l.call(_t)) console.log(h, e), h = e;else {\n                    var _t2 = h.state.index - e.state.index;\n\n                    console.log(\"isNotOk\", d, h, e), y(_t2);\n                  }\n                } else m(_t);\n              }\n            }(a);\n          }\n\n          function f() {\n            t.removeEventListener(o.PopStateEventType, p);\n          }\n\n          t.addEventListener(o.PopStateEventType, p);\n          var d = null;\n\n          function g(e) {\n            var t = e.action,\n                a = e.location;\n            return !l.length || l.call({\n              action: t,\n              location: a\n            });\n          }\n\n          function m(e) {\n            u = e.action, h = e.location, c.call({\n              action: u,\n              location: h\n            });\n          }\n\n          function y(e) {\n            i.go(e);\n          }\n\n          function b(e) {\n            a && (e.preventDefault(), e.returnValue = \"\");\n          }\n\n          return {\n            get action() {\n              return u;\n            },\n\n            get location() {\n              return h;\n            },\n\n            createHref: function createHref(e) {\n              if (\"string\" == typeof e) return (0, r.createPath)((0, r.createLocation)({\n                path: e,\n                basename: s\n              }));\n            },\n            push: function push(e, t) {\n              var a = o.actionType.push,\n                  n = Object.assign({}, t, {\n                index: h.state && h.state.index + 1\n              }),\n                  c = (0, r.createLocation)({\n                path: e,\n                state: n,\n                basename: s\n              }),\n                  l = {\n                action: a,\n                location: c\n              };\n\n              if (g(l)) {\n                try {\n                  var _e = (0, r.getBaseHref)() + s + (0, r.createPath)(c);\n\n                  i.pushState(n, \"\", _e);\n                } catch (e) {\n                  console.error(e);\n                }\n\n                m(l);\n              }\n            },\n            replace: function replace(e, t) {\n              var a = o.actionType.push,\n                  n = Object.assign({}, t, {\n                index: h.state && h.state.index\n              }),\n                  c = (0, r.createLocation)({\n                path: e,\n                state: n,\n                basename: s\n              }),\n                  l = {\n                action: a,\n                location: c\n              };\n\n              if (g(l)) {\n                try {\n                  var _e2 = (0, r.getBaseHref)() + s + (0, r.createPath)(c);\n\n                  i.replaceState(n, \"\", _e2);\n                } catch (e) {\n                  console.error(e);\n                }\n\n                m(l);\n              }\n            },\n            go: y,\n            back: function back() {\n              y(-1);\n            },\n            forward: function forward() {\n              y(1);\n            },\n            listen: function listen(e) {\n              return c.push(e);\n            },\n            block: function block(e) {\n              var a = l.push(e);\n              return 1 === l.length && t.addEventListener(o.BeforeUnloadEventType, b), function () {\n                a(), l.length || t.removeEventListener(o.BeforeUnloadEventType, b);\n              };\n            }\n          };\n        }\n      },\n      \"./src/createHashHistory.js\": function srcCreateHashHistoryJs(e, t, a) {\n        a.r(t), a.d(t, {\n          \"default\": function _default() {\n            return s;\n          }\n        });\n        var n = a(\"./utils/index.js\"),\n            o = a(\"./config/index.js\"),\n            r = a(\"./utils/LocationUtils.js\");\n\n        function s() {\n          var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var _e$window2 = e.window,\n              t = _e$window2 === void 0 ? document.defaultView : _e$window2,\n              _e$isShowBeforeUnload2 = e.isShowBeforeUnload,\n              a = _e$isShowBeforeUnload2 === void 0 ? !1 : _e$isShowBeforeUnload2,\n              s = e.basename ? (0, n.stripTrailingSlash)((0, n.addLeadingSlash)(e.basename)) : \"\",\n              i = t.history,\n              c = (0, n.createEventList)({\n            removeCallback: f\n          }),\n              l = (0, n.createEventList)({\n            isNeedResult: !0,\n            removeCallback: f\n          });\n          var u = o.actionType.pop,\n              h = (0, r.createLocation)({\n            path: t.location.hash.substr(1),\n            basename: s,\n            state: i.state\n          });\n\n          function p(e) {\n            var a = (0, r.createLocation)({\n              path: t.location.hash.substr(1),\n              basename: s,\n              state: i.state\n            });\n            (0, r.createPath)(a) !== (0, r.createPath)(h) && function (e) {\n              {\n                var _t3 = {\n                  action: o.actionType.pop,\n                  location: e\n                };\n\n                if (l.length) {\n                  if (l.call(_t3)) h = e;else {\n                    m(h.state.index - e.state.index);\n                  }\n                } else g(_t3);\n              }\n            }(a);\n          }\n\n          function f() {\n            t.removeEventListener(o.HashChangeEventType, p);\n          }\n\n          t.addEventListener(o.HashChangeEventType, p);\n\n          function d(e) {\n            var t = e.action,\n                a = e.location;\n            return !l.length || l.call({\n              action: t,\n              location: a\n            });\n          }\n\n          function g(e) {\n            u = e.action, h = e.location, c.call({\n              action: u,\n              location: h\n            });\n          }\n\n          function m(e) {\n            i.go(e);\n          }\n\n          function y(e) {\n            a && (e.preventDefault(), e.returnValue = \"\");\n          }\n\n          return {\n            get action() {\n              return u;\n            },\n\n            get location() {\n              return h;\n            },\n\n            createHref: function createHref(e) {\n              if (\"string\" == typeof e) return (0, r.createPath)((0, r.createLocation)({\n                path: e,\n                basename: s\n              }));\n            },\n            push: function push(e, t) {\n              var a = o.actionType.push,\n                  n = Object.assign({}, t, {\n                index: h.state && h.state.index + 1\n              }),\n                  c = (0, r.createLocation)({\n                path: e,\n                state: n,\n                basename: s\n              }),\n                  l = {\n                action: a,\n                location: c\n              };\n\n              if (d(l)) {\n                try {\n                  var _e3 = (0, r.getBaseHref)() + \"#\" + s + (0, r.createPath)(c);\n\n                  i.pushState(n, \"\", _e3);\n                } catch (e) {\n                  console.error(e);\n                }\n\n                g(l);\n              }\n            },\n            replace: function replace(e, t) {\n              var a = o.actionType.push,\n                  n = Object.assign({}, t, {\n                index: h.state && h.state.index\n              }),\n                  c = (0, r.createLocation)({\n                path: e,\n                state: n,\n                basename: s\n              }),\n                  l = {\n                action: a,\n                location: c\n              };\n\n              if (d(l)) {\n                try {\n                  var _e4 = (0, r.getBaseHref)() + \"#\" + s + (0, r.createPath)(c);\n\n                  i.replaceState(n, \"\", _e4);\n                } catch (e) {\n                  console.error(e);\n                }\n\n                g(l);\n              }\n            },\n            go: m,\n            back: function back() {\n              m(-1);\n            },\n            forward: function forward() {\n              m(1);\n            },\n            listen: function listen(e) {\n              return c.push(e);\n            },\n            block: function block(e) {\n              var a = l.push(e);\n              return 1 === l.length && t.addEventListener(o.BeforeUnloadEventType, y), function () {\n                a(), l.length || t.removeEventListener(o.BeforeUnloadEventType, y);\n              };\n            }\n          };\n        }\n      },\n      \"./src/index.js\": function srcIndexJs(e, t, a) {\n        a.r(t), a.d(t, {\n          createHashHistory: function createHashHistory() {\n            return n[\"default\"];\n          },\n          createBrowserHistory: function createBrowserHistory() {\n            return o[\"default\"];\n          },\n          createLocation: function createLocation() {\n            return r.createLocation;\n          },\n          createPath: function createPath() {\n            return r.createPath;\n          },\n          getBaseHref: function getBaseHref() {\n            return r.getBaseHref;\n          },\n          hasBasename: function hasBasename() {\n            return r.hasBasename;\n          },\n          locationsAreEqual: function locationsAreEqual() {\n            return r.locationsAreEqual;\n          },\n          parsePath: function parsePath() {\n            return r.parsePath;\n          },\n          stripBasename: function stripBasename() {\n            return r.stripBasename;\n          },\n          addLeadingSlash: function addLeadingSlash() {\n            return s.addLeadingSlash;\n          },\n          createEventList: function createEventList() {\n            return s.createEventList;\n          },\n          getUniqueKey: function getUniqueKey() {\n            return s.getUniqueKey;\n          },\n          getValueType: function getValueType() {\n            return s.getValueType;\n          },\n          isObject: function isObject() {\n            return s.isObject;\n          },\n          stripLeadingSlash: function stripLeadingSlash() {\n            return s.stripLeadingSlash;\n          },\n          stripTrailingSlash: function stripTrailingSlash() {\n            return s.stripTrailingSlash;\n          },\n          valueEqual: function valueEqual() {\n            return s.valueEqual;\n          }\n        });\n        var n = a(\"./src/createHashHistory.js\"),\n            o = a(\"./src/createBrowserHistory.js\"),\n            r = a(\"./utils/LocationUtils.js\"),\n            s = a(\"./utils/index.js\");\n      },\n      \"./utils/LocationUtils.js\": function utilsLocationUtilsJs(e, t, a) {\n        a.r(t), a.d(t, {\n          createLocation: function createLocation() {\n            return o;\n          },\n          parsePath: function parsePath() {\n            return r;\n          },\n          createPath: function createPath() {\n            return s;\n          },\n          hasBasename: function hasBasename() {\n            return i;\n          },\n          stripBasename: function stripBasename() {\n            return c;\n          },\n          getBaseHref: function getBaseHref() {\n            return l;\n          },\n          locationsAreEqual: function locationsAreEqual() {\n            return u;\n          }\n        });\n        var n = a(\"./utils/index.js\");\n        a(\"./node_modules/resolve-pathname/esm/resolve-pathname.js\");\n\n        function o() {\n          var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var t = e.path,\n              a = e.basename,\n              _e$key = e.key,\n              o = _e$key === void 0 ? (0, n.getUniqueKey)() : _e$key,\n              _e$state = e.state,\n              s = _e$state === void 0 ? {\n            index: 0\n          } : _e$state,\n              i = e.currentLocation;\n          return _objectSpread(_objectSpread({}, r(t, a, i)), {}, {\n            key: o,\n            state: s\n          });\n        }\n\n        function r(e, t, a) {\n          var n = {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\"\n          };\n          \"string\" == typeof e ? n.pathname = e || \"/\" : n = Object.assign(n, _objectSpread({}, e));\n          var o = n.pathname.indexOf(\"#\");\n          o > -1 && (n.hash = n.pathname.substr(o), n.pathname = n.pathname.substr(0, o));\n          var r = n.pathname.indexOf(\"?\");\n          return r > -1 && (n.search = n.pathname.substr(r), n.pathname = n.pathname.substr(0, r)), n.pathname = c(n.pathname, t), a ? n.pathname ? \"/\" !== n.pathname.charAt(0) && (n.pathname = resolvePathname(n.pathname, a.pathname)) : n.pathname = a.pathname : n.pathname || (n.pathname = \"/\"), {\n            pathname: n.pathname,\n            search: \"?\" === n.search ? \"\" : n.search,\n            hash: \"#\" === n.hash ? \"\" : n.hash\n          };\n        }\n\n        function s() {\n          var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var t = e.pathname,\n              a = e.search,\n              n = e.hash;\n          var o = t || \"/\";\n          return a && \"?\" !== a && (o += \"?\" === a.charAt(0) ? a : \"?\".concat(a)), n && \"#\" !== n && (o += \"#\" === n.charAt(0) ? n : \"#\".concat(n)), o;\n        }\n\n        function i() {\n          var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n          var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n          return 0 === e.toLowerCase().indexOf(t.toLowerCase()) && -1 !== \"/?#\".indexOf(e.charAt(t.length));\n        }\n\n        function c() {\n          var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n          var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n          return i(e, t) ? e.substr(t.length) : e;\n        }\n\n        function l() {\n          var e = document.querySelector(\"base\"),\n              t = \"\";\n\n          if (e && e.getAttribute(\"href\")) {\n            var _e5 = window.location.href,\n                _a = _e5.indexOf(\"#\");\n\n            t = -1 === _a ? _e5 : _e5.slice(0, _a);\n          }\n\n          return t;\n        }\n\n        function u(e, t) {\n          return e.pathname === t.pathname && e.search === t.search && e.hash === t.hash && e.key === t.key && (0, n.valueEqual)(e.state, t.state);\n        }\n      },\n      \"./utils/index.js\": function utilsIndexJs(e, t, a) {\n        a.r(t), a.d(t, {\n          createEventList: function createEventList() {\n            return o;\n          },\n          getUniqueKey: function getUniqueKey() {\n            return r;\n          },\n          isObject: function isObject() {\n            return s;\n          },\n          getValueType: function getValueType() {\n            return i;\n          },\n          valueEqual: function valueEqual() {\n            return c;\n          },\n          addLeadingSlash: function addLeadingSlash() {\n            return l;\n          },\n          stripLeadingSlash: function stripLeadingSlash() {\n            return u;\n          },\n          stripTrailingSlash: function stripTrailingSlash() {\n            return h;\n          }\n        });\n        var n = a(\"./config/index.js\");\n\n        function o() {\n          var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var _e$isNeedResult = e.isNeedResult,\n              t = _e$isNeedResult === void 0 ? !1 : _e$isNeedResult,\n              a = e.removeCallback;\n          var n = [];\n          return {\n            get length() {\n              return n.length;\n            },\n\n            push: function push(e) {\n              return n.push(e), function () {\n                n = n.filter(function (t) {\n                  return t !== e;\n                }), n.length || a && a();\n              };\n            },\n            call: function call(e) {\n              var a = !0;\n\n              for (var _o = 0, _r = n.length; _o < _r; _o++) {\n                var _r2 = n[_o];\n                if (a = _r2 && _r2(e), t && !a) break;\n              }\n\n              return a;\n            }\n          };\n        }\n\n        function r() {\n          var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n          var t = Date.now().toString(32) + e.toString(),\n              a = [],\n              n = 1,\n              o = 0;\n\n          for (var _e6 = 1, _r3 = t.length; _e6 <= _r3; _e6++) {\n            _e6 === n && (a[o] = String.fromCharCode(65 + Math.floor(22 * Math.random())), o++, n *= 2), a[o] = t[_e6 - 1], o++;\n          }\n\n          return a.join(\"\");\n        }\n\n        function s(e) {\n          return e && \"object\" == (0, _typeof2[\"default\"])(e) && \"[object Object]\" === toString.call(e);\n        }\n\n        function i(e) {\n          var t = n.enumValueType.basic;\n          s(e) && (t = n.enumValueType.object), Array.isArray(e) && (t = n.enumValueType.array);\n        }\n\n        function c(e, t) {\n          var a = i(e);\n          if (a !== i(t)) return !1;\n          if (a === n.enumValueType.basic) return e === t;\n\n          if (a === n.enumValueType.object) {\n            var _a2 = Object.keys(e);\n\n            for (var _n = 0, _o2 = _a2.length; _n < _o2; _n++) {\n              var _o3 = _a2[_n];\n              if (!c(e[_o3], t[_o3])) return !1;\n            }\n          }\n\n          if (a === n.enumValueType.array) {\n            if (e.length !== t.length) return falsei;\n\n            for (var _a3 = 0, _n2 = e.length; _a3 < _n2; _a3++) {\n              if (!c(e[_a3], t[_a3])) return !1;\n            }\n          }\n\n          return !1;\n        }\n\n        function l(e) {\n          return \"/\" === e.charAt(0) ? e : \"/\" + e;\n        }\n\n        function u(e) {\n          return \"/\" === e.charAt(0) ? e.substr(1) : e;\n        }\n\n        function h(e) {\n          return \"/\" === e.charAt(e.length - 1) ? e.slice(0, -1) : e;\n        }\n      }\n    },\n        t = {};\n\n    function a(n) {\n      if (t[n]) return t[n].exports;\n      var o = t[n] = {\n        exports: {}\n      };\n      return e[n](o, o.exports, a), o.exports;\n    }\n\n    return a.d = function (e, t) {\n      for (var n in t) {\n        a.o(t, n) && !a.o(e, n) && Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: t[n]\n        });\n      }\n    }, a.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, a.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, a(\"./src/index.js\");\n  }();\n});","map":{"version":3,"sources":["webpack://zyliangHistory/webpack/universalModuleDefinition","webpack://zyliangHistory/config/index.js","webpack://zyliangHistory/node_modules/resolve-pathname/esm/resolve-pathname.js","webpack://zyliangHistory/src/createBrowserHistory.js","webpack://zyliangHistory/src/createHashHistory.js","webpack://zyliangHistory/utils/LocationUtils.js","webpack://zyliangHistory/utils/index.js","webpack://zyliangHistory/webpack/bootstrap","webpack://zyliangHistory/webpack/startup","webpack://zyliangHistory/webpack/runtime/define property getters","webpack://zyliangHistory/webpack/runtime/hasOwnProperty shorthand","webpack://zyliangHistory/webpack/runtime/make namespace object"],"names":["root","factory","exports","module","define","amd","self","BeforeUnloadEventType","HashChangeEventType","PopStateEventType","actionType","push","replace","pop","enumValueType","object","array","basic","isAbsolute","pathname","charAt","spliceOne","list","index","i","k","n","length","to","from","undefined","toParts","split","fromParts","isToAbs","isFromAbs","mustEndAbs","concat","hasTrailingSlash","last","up","part","unshift","result","join","substr","createBrowserHistory","options","window","document","defaultView","isShowBeforeUnload","basename","globalHistory","history","listeners","removeCallback","removePopStateEventListenFunc","blockers","isNeedResult","action","location","path","state","popStateEventListenFunc","event","nextLocation","handlePop","removeEventListener","addEventListener","blockedPopTx","console","log","sendData","call","lastIndex","go","applyTo","allowTo","props","newAction","newState","Object","assign","newLocation","url","pushState","e","error","replaceState","listener","promptBeforeUnload","preventDefault","returnValue","blocker","unblock","createHref","back","forward","listen","block","createHashHistory","removeHashChangeEventListenFunc","hash","hashChangeEventListenFunc","createLocation","params","key","currentLocation","parsePath","locationResult","search","hashIndex","indexOf","searchIndex","stripBasename","resolvePathname","createPath","hasBasename","prefix","toLowerCase","getBaseHref","base","querySelector","href","getAttribute","slice","locationsAreEqual","a","b","createEventList","fn","filter","item","arg","len","getUniqueKey","baseData","Date","now","toString","newKey","verificationData","newKeyIndex","j","String","fromCharCode","Math","floor","random","isObject","obj","getValueType","val","type","Array","isArray","valueEqual","valueA","valueB","valueAType","keys","falsei","addLeadingSlash","stripLeadingSlash","stripTrailingSlash","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","d","definition","o","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","r","Symbol","toStringTag","value"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zyliangHistory\"] = factory();\n\telse\n\t\troot[\"zyliangHistory\"] = factory();\n})(self, function() {\nreturn ","export const BeforeUnloadEventType = \"beforeunload\";\r\nexport const HashChangeEventType = \"hashchange\";\r\nexport const PopStateEventType = \"popstate\";\r\n\r\n/**\r\n * 历史栈上一次操作的类型\r\n */\r\nexport const actionType = {\r\n  push: \"PUSH\", // 推入栈\r\n  replace: \"REPLACE\", // 替换栈\r\n  pop: \"POP\", // 初始值\r\n};\r\n\r\n/**\r\n * 数据类型枚举\r\n */\r\nexport const enumValueType = {\r\n  object: \"Object\",\r\n  array: \"Array\",\r\n  basic: \"Basic\",\r\n};\r\n","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n","import {\r\n  createEventList,\r\n  stripTrailingSlash,\r\n  addLeadingSlash,\r\n} from \"../utils/index\";\r\nimport {\r\n  BeforeUnloadEventType,\r\n  HashChangeEventType,\r\n  PopStateEventType,\r\n  actionType,\r\n} from \"../config/index\";\r\nimport {\r\n  createPath,\r\n  createLocation,\r\n  getBaseHref,\r\n} from \"../utils/LocationUtils\";\r\n/**\r\n * 创建history路由\r\n * @param {*} options\r\n */\r\nexport default function createBrowserHistory(options = {}) {\r\n  const { window = document.defaultView, isShowBeforeUnload = false } = options;\r\n\r\n  const basename = options.basename\r\n    ? stripTrailingSlash(addLeadingSlash(options.basename))\r\n    : \"\";\r\n\r\n  // 全局history\r\n  const globalHistory = window.history;\r\n\r\n  // 订阅者队列\r\n  const listeners = createEventList({\r\n    removeCallback: removePopStateEventListenFunc,\r\n  });\r\n  // 提示事件队列\r\n  const blockers = createEventList({\r\n    isNeedResult: true,\r\n    removeCallback: removePopStateEventListenFunc,\r\n  });\r\n\r\n  let action = actionType.pop;\r\n  let location = createLocation({\r\n    path: window.location,\r\n    basename,\r\n    state: globalHistory.state,\r\n  });\r\n\r\n  /**\r\n   * PopStateEvent 监听方法\r\n   */\r\n  function popStateEventListenFunc(event) {\r\n    let nextLocation = createLocation({\r\n      path: window.location,\r\n      basename,\r\n      state: globalHistory.state,\r\n    });\r\n    // Ignore extraneous hashchange events.\r\n    // 这里感觉可以使用event中的数据，但是这样写可以避免不同环境hash中数据异常的问题\r\n    if (createPath(nextLocation) !== createPath(location)) {\r\n      handlePop(nextLocation);\r\n    }\r\n  }\r\n\r\n  function removePopStateEventListenFunc() {\r\n    window.removeEventListener(PopStateEventType, popStateEventListenFunc);\r\n  }\r\n\r\n  /**\r\n   * 设置监听,只有再go,back,forward三种情况下会触发\r\n   */\r\n  window.addEventListener(PopStateEventType, popStateEventListenFunc);\r\n\r\n  let blockedPopTx = null;\r\n  /**\r\n   * hash改变出发事件\r\n   */\r\n  function handlePop(nextLocation) {\r\n    if (blockedPopTx) {\r\n      blockedPopTx = false;\r\n      console.log(\"blockedPopTx\", blockedPopTx);\r\n    } else {\r\n      const nextAction = actionType.pop;\r\n      const sendData = {\r\n        action: nextAction,\r\n        location: nextLocation,\r\n      };\r\n      if (blockers.length) {\r\n        let isOk = blockers.call(sendData);\r\n        if (!isOk) {\r\n          const lastIndex = location.state.index - nextLocation.state.index;\r\n          // blockedPopTx = true;\r\n          console.log(\"isNotOk\", blockedPopTx, location, nextLocation);\r\n          go(lastIndex);\r\n        } else {\r\n          console.log(location, nextLocation);\r\n          location = nextLocation;\r\n        }\r\n      } else {\r\n        applyTo(sendData);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 生成链接\r\n   */\r\n  function createHref(path) {\r\n    if (typeof path === \"string\") {\r\n      return createPath(\r\n        createLocation({\r\n          path,\r\n          basename,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 是否允许跳转\r\n   */\r\n  function allowTo(props) {\r\n    const { action, location } = props;\r\n    const result = !blockers.length || blockers.call({ action, location });\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * 允许跳转\r\n   */\r\n  function applyTo(props) {\r\n    action = props.action;\r\n    location = props.location;\r\n    listeners.call({ action, location });\r\n  }\r\n\r\n  /**\r\n   * 添加路由\r\n   */\r\n  function push(path, state) {\r\n    const newAction = actionType.push;\r\n    const newState = Object.assign({}, state, {\r\n      index: location.state && location.state.index + 1,\r\n    });\r\n    const newLocation = createLocation({\r\n      path,\r\n      state: newState,\r\n      basename,\r\n    });\r\n    const sendData = {\r\n      action: newAction,\r\n      location: newLocation,\r\n    };\r\n    if (allowTo(sendData)) {\r\n      try {\r\n        const url = getBaseHref() + basename + createPath(newLocation);\r\n        globalHistory.pushState(newState, \"\", url);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n      applyTo(sendData);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 替换\r\n   */\r\n  function replace(path, state) {\r\n    const newAction = actionType.push;\r\n    const newState = Object.assign({}, state, {\r\n      index: location.state && location.state.index,\r\n    });\r\n    const newLocation = createLocation({ path, state: newState, basename });\r\n    const sendData = {\r\n      action: newAction,\r\n      location: newLocation,\r\n    };\r\n    if (allowTo(sendData)) {\r\n      try {\r\n        const url = getBaseHref() + basename + createPath(newLocation);\r\n        globalHistory.replaceState(newState, \"\", url);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n      applyTo(sendData);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 跳转\r\n   * @param {Number} index\r\n   */\r\n  function go(index) {\r\n    globalHistory.go(index);\r\n  }\r\n\r\n  /**\r\n   * 回退\r\n   */\r\n  function back() {\r\n    go(-1);\r\n  }\r\n\r\n  /**\r\n   * 前进\r\n   */\r\n  function forward() {\r\n    go(1);\r\n  }\r\n\r\n  /**\r\n   * 注册订阅者\r\n   * @param {Function} fn\r\n   */\r\n  function listen(listener) {\r\n    return listeners.push(listener);\r\n  }\r\n\r\n  /**\r\n   * 页面刷新前的处理操作\r\n   * 只有history.back() 和 history.forward()会触发F\r\n   */\r\n  function promptBeforeUnload(event) {\r\n    if (!isShowBeforeUnload) {\r\n      return;\r\n    }\r\n    // Cancel the event as stated by the standard.\r\n    event.preventDefault();\r\n    // Chrome requires returnValue to be set.\r\n    event.returnValue = \"\";\r\n  }\r\n\r\n  /**\r\n   * 提示\r\n   */\r\n  function block(blocker) {\r\n    let unblock = blockers.push(blocker);\r\n    if (blockers.length === 1) {\r\n      window.addEventListener(BeforeUnloadEventType, promptBeforeUnload);\r\n    }\r\n\r\n    return () => {\r\n      unblock();\r\n      if (!blockers.length) {\r\n        window.removeEventListener(BeforeUnloadEventType, promptBeforeUnload);\r\n      }\r\n    };\r\n  }\r\n\r\n  let history = {\r\n    get action() {\r\n      return action;\r\n    },\r\n    get location() {\r\n      return location;\r\n    },\r\n    createHref,\r\n    push,\r\n    replace,\r\n    go,\r\n    back,\r\n    forward,\r\n    listen,\r\n    block,\r\n  };\r\n\r\n  return history;\r\n}\r\n","import {\r\n  createEventList,\r\n  stripTrailingSlash,\r\n  addLeadingSlash,\r\n} from \"../utils/index\";\r\nimport {\r\n  BeforeUnloadEventType,\r\n  HashChangeEventType,\r\n  PopStateEventType,\r\n  actionType,\r\n} from \"../config/index\";\r\nimport {\r\n  createPath,\r\n  createLocation,\r\n  getBaseHref,\r\n} from \"../utils/LocationUtils\";\r\n/**\r\n * 创建history路由\r\n * @param {*} options\r\n */\r\nexport default function createHashHistory(options = {}) {\r\n  const { window = document.defaultView, isShowBeforeUnload = false } = options;\r\n\r\n  const basename = options.basename\r\n    ? stripTrailingSlash(addLeadingSlash(options.basename))\r\n    : \"\";\r\n\r\n  // 全局history\r\n  const globalHistory = window.history;\r\n\r\n  // 订阅者队列\r\n  const listeners = createEventList({\r\n    removeCallback: removeHashChangeEventListenFunc,\r\n  });\r\n  // 提示事件队列\r\n  const blockers = createEventList({\r\n    isNeedResult: true,\r\n    removeCallback: removeHashChangeEventListenFunc,\r\n  });\r\n\r\n  let action = actionType.pop;\r\n  let location = createLocation({\r\n    path: window.location.hash.substr(1),\r\n    basename,\r\n    state: globalHistory.state,\r\n  });\r\n\r\n  /**\r\n   * hashChangeEvent 监听方法\r\n   */\r\n  function hashChangeEventListenFunc(event) {\r\n    let nextLocation = createLocation({\r\n      path: window.location.hash.substr(1),\r\n      basename,\r\n      state: globalHistory.state,\r\n    });\r\n\r\n    // Ignore extraneous hashchange events.\r\n    // 这里感觉可以使用event中的数据，但是这样写可以避免不同环境hash中数据异常的问题\r\n    if (createPath(nextLocation) !== createPath(location)) {\r\n      handlePop(nextLocation);\r\n    }\r\n  }\r\n\r\n  function removeHashChangeEventListenFunc() {\r\n    window.removeEventListener(HashChangeEventType, hashChangeEventListenFunc);\r\n  }\r\n\r\n  /**\r\n   * 设置监听,只有再go,back,forward三种情况下会触发\r\n   */\r\n  window.addEventListener(HashChangeEventType, hashChangeEventListenFunc);\r\n\r\n  let blockedPopTx = null;\r\n  /**\r\n   * hash改变出发事件\r\n   */\r\n  function handlePop(nextLocation) {\r\n    if (blockedPopTx) {\r\n    } else {\r\n      const nextAction = actionType.pop;\r\n      const sendData = {\r\n        action: nextAction,\r\n        location: nextLocation,\r\n      };\r\n      if (blockers.length) {\r\n        let isOk = blockers.call(sendData);\r\n        if (!isOk) {\r\n          const lastIndex = location.state.index - nextLocation.state.index;\r\n          go(lastIndex);\r\n        } else {\r\n          location = nextLocation;\r\n        }\r\n      } else {\r\n        applyTo(sendData);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 生成链接\r\n   */\r\n  function createHref(path) {\r\n    if (typeof path === \"string\") {\r\n      return createPath(\r\n        createLocation({\r\n          path,\r\n          basename,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 是否允许跳转\r\n   */\r\n  function allowTo(props) {\r\n    const { action, location } = props;\r\n    return !blockers.length || blockers.call({ action, location });\r\n  }\r\n\r\n  /**\r\n   * 允许跳转\r\n   */\r\n  function applyTo(props) {\r\n    action = props.action;\r\n    location = props.location;\r\n    listeners.call({ action, location });\r\n  }\r\n\r\n  /**\r\n   * 添加路由\r\n   */\r\n  function push(path, state) {\r\n    const newAction = actionType.push;\r\n    const newState = Object.assign({}, state, {\r\n      index: location.state && location.state.index + 1,\r\n    });\r\n    const newLocation = createLocation({\r\n      path,\r\n      state: newState,\r\n      basename,\r\n    });\r\n    const sendData = {\r\n      action: newAction,\r\n      location: newLocation,\r\n    };\r\n    if (allowTo(sendData)) {\r\n      try {\r\n        const url = getBaseHref() + \"#\" + basename + createPath(newLocation);\r\n        globalHistory.pushState(newState, \"\", url);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n      applyTo(sendData);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 替换\r\n   */\r\n  function replace(path, state) {\r\n    const newAction = actionType.push;\r\n    const newState = Object.assign({}, state, {\r\n      index: location.state && location.state.index,\r\n    });\r\n    const newLocation = createLocation({ path, state: newState, basename });\r\n    const sendData = {\r\n      action: newAction,\r\n      location: newLocation,\r\n    };\r\n    if (allowTo(sendData)) {\r\n      try {\r\n        const url = getBaseHref() + \"#\" + basename + createPath(newLocation);\r\n        globalHistory.replaceState(newState, \"\", url);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n      applyTo(sendData);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 跳转\r\n   * @param {Number} index\r\n   */\r\n  function go(index) {\r\n    globalHistory.go(index);\r\n  }\r\n\r\n  /**\r\n   * 回退\r\n   */\r\n  function back() {\r\n    go(-1);\r\n  }\r\n\r\n  /**\r\n   * 前进\r\n   */\r\n  function forward() {\r\n    go(1);\r\n  }\r\n\r\n  /**\r\n   * 注册订阅者\r\n   * @param {Function} fn\r\n   */\r\n  function listen(listener) {\r\n    return listeners.push(listener);\r\n  }\r\n\r\n  /**\r\n   * 页面刷新前的处理操作\r\n   * 只有history.back() 和 history.forward()会触发F\r\n   */\r\n  function promptBeforeUnload(event) {\r\n    if (!isShowBeforeUnload) {\r\n      return;\r\n    }\r\n    // Cancel the event as stated by the standard.\r\n    event.preventDefault();\r\n    // Chrome requires returnValue to be set.\r\n    event.returnValue = \"\";\r\n  }\r\n\r\n  /**\r\n   * 提示\r\n   */\r\n  function block(blocker) {\r\n    let unblock = blockers.push(blocker);\r\n    if (blockers.length === 1) {\r\n      window.addEventListener(BeforeUnloadEventType, promptBeforeUnload);\r\n    }\r\n\r\n    return () => {\r\n      unblock();\r\n      if (!blockers.length) {\r\n        window.removeEventListener(BeforeUnloadEventType, promptBeforeUnload);\r\n      }\r\n    };\r\n  }\r\n\r\n  let history = {\r\n    get action() {\r\n      return action;\r\n    },\r\n    get location() {\r\n      return location;\r\n    },\r\n    createHref,\r\n    push,\r\n    replace,\r\n    go,\r\n    back,\r\n    forward,\r\n    listen,\r\n    block,\r\n  };\r\n\r\n  return history;\r\n}\r\n","import { getUniqueKey, valueEqual } from \"./index\";\r\nimport resolvePathName from \"resolve-pathname\";\r\n\r\nexport function createLocation(params = {}) {\r\n  const {\r\n    path, // 地址\r\n    basename, //\r\n    key = getUniqueKey(), // 唯一值\r\n    state = {\r\n      index: 0,\r\n    }, // 状态参数\r\n    currentLocation, // 当前location\r\n  } = params;\r\n  const basePathInfo = parsePath(path, basename, currentLocation);\r\n  return {\r\n    ...basePathInfo,\r\n    key,\r\n    state,\r\n  };\r\n}\r\n\r\n/**\r\n * 解析路径\r\n * @param {*}} path\r\n */\r\nexport function parsePath(path, basename, currentLocation) {\r\n  let locationResult = {\r\n    pathname: \"/\",\r\n    search: \"\",\r\n    hash: \"\",\r\n  };\r\n\r\n  if (typeof path === \"string\") {\r\n    locationResult.pathname = path || \"/\";\r\n  } else {\r\n    locationResult = Object.assign(locationResult, { ...path });\r\n  }\r\n\r\n  // 先过滤hash值，然后再过滤search的内容\r\n\r\n  const hashIndex = locationResult.pathname.indexOf(\"#\");\r\n  // 存在hash值\r\n  if (hashIndex > -1) {\r\n    // hash值\r\n    locationResult.hash = locationResult.pathname.substr(hashIndex);\r\n    // pathname 值\r\n    locationResult.pathname = locationResult.pathname.substr(0, hashIndex);\r\n  }\r\n\r\n  const searchIndex = locationResult.pathname.indexOf(\"?\");\r\n  if (searchIndex > -1) {\r\n    // search 值\r\n    locationResult.search = locationResult.pathname.substr(searchIndex);\r\n    // pathname 值\r\n    locationResult.pathname = locationResult.pathname.substr(0, searchIndex);\r\n  }\r\n\r\n  locationResult.pathname = stripBasename(locationResult.pathname, basename);\r\n\r\n  if (currentLocation) {\r\n    if (!locationResult.pathname) {\r\n      locationResult.pathname = currentLocation.pathname;\r\n    } else if (locationResult.pathname.charAt(0) !== \"/\") {\r\n      locationResult.pathname = resolvePathname(\r\n        locationResult.pathname,\r\n        currentLocation.pathname\r\n      );\r\n    }\r\n  } else {\r\n    // When there is no prior location and pathname is empty, set it to /\r\n    if (!locationResult.pathname) {\r\n      locationResult.pathname = \"/\";\r\n    }\r\n  }\r\n\r\n  return {\r\n    pathname: locationResult.pathname,\r\n    search: locationResult.search === \"?\" ? \"\" : locationResult.search,\r\n    hash: locationResult.hash === \"#\" ? \"\" : locationResult.hash,\r\n  };\r\n}\r\n\r\n// 创建path\r\nexport function createPath(location = {}) {\r\n  const { pathname, search, hash } = location;\r\n\r\n  let path = pathname || \"/\";\r\n\r\n  if (search && search !== \"?\")\r\n    path += search.charAt(0) === \"?\" ? search : `?${search}`;\r\n\r\n  if (hash && hash !== \"#\") path += hash.charAt(0) === \"#\" ? hash : `#${hash}`;\r\n\r\n  return path;\r\n}\r\n\r\n// 是否包含basename\r\nexport function hasBasename(path = \"\", prefix = \"\") {\r\n  return (\r\n    path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 &&\r\n    \"/?#\".indexOf(path.charAt(prefix.length)) !== -1\r\n  );\r\n}\r\n\r\n// 去除basename\r\nexport function stripBasename(path = \"\", prefix = \"\") {\r\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\r\n}\r\n\r\n/**\r\n * 获取basename\r\n */\r\nexport function getBaseHref() {\r\n  let base = document.querySelector(\"base\");\r\n  let href = \"\";\r\n\r\n  if (base && base.getAttribute(\"href\")) {\r\n    let url = window.location.href;\r\n    let hashIndex = url.indexOf(\"#\");\r\n    href = hashIndex === -1 ? url : url.slice(0, hashIndex);\r\n  }\r\n\r\n  return href;\r\n}\r\n\r\n/**\r\n * location 比较\r\n */\r\nexport function locationsAreEqual(a, b) {\r\n  return (\r\n    a.pathname === b.pathname &&\r\n    a.search === b.search &&\r\n    a.hash === b.hash &&\r\n    a.key === b.key &&\r\n    valueEqual(a.state, b.state)\r\n  );\r\n}\r\n","import { enumValueType } from \"../config/index\";\r\n/**\r\n * 创建事件队列\r\n */\r\nexport function createEventList(options = {}) {\r\n  const { isNeedResult = false, removeCallback } = options;\r\n  let list = [];\r\n\r\n  return {\r\n    get length() {\r\n      return list.length;\r\n    },\r\n    push(fn) {\r\n      list.push(fn);\r\n      return () => {\r\n        list = list.filter((item) => item !== fn);\r\n        if (!list.length) {\r\n          removeCallback && removeCallback();\r\n        }\r\n      };\r\n    },\r\n    call(arg) {\r\n      let result = true;\r\n      for (let i = 0, len = list.length; i < len; i++) {\r\n        const fn = list[i];\r\n        result = fn && fn(arg);\r\n        if (isNeedResult && !result) {\r\n          break;\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * 获取唯一key\r\n */\r\nexport function getUniqueKey(baseData = \"\") {\r\n  const timeStr = Date.now().toString(32);\r\n  let key = timeStr + baseData.toString();\r\n  let newKey = [];\r\n  let verificationData = 1; // 校验码位置\r\n  let newKeyIndex = 0;\r\n  // 采用海伦校验码原理处理\r\n  for (let j = 1, len = key.length; j <= len; j++) {\r\n    if (j === verificationData) {\r\n      newKey[newKeyIndex] = String.fromCharCode(\r\n        65 + Math.floor(Math.random() * 0x16)\r\n      );\r\n      newKeyIndex++;\r\n      verificationData = 2 * verificationData;\r\n    }\r\n    newKey[newKeyIndex] = key[j - 1];\r\n    newKeyIndex++;\r\n  }\r\n\r\n  return newKey.join(\"\");\r\n}\r\n\r\nexport function isObject(obj) {\r\n  return (\r\n    obj && typeof obj === \"object\" && toString.call(obj) === \"[object Object]\"\r\n  );\r\n}\r\n\r\n/**\r\n * 获取数据类型\r\n * 这里只考虑基本数据类型，symbol等不在考虑范畴内\r\n */\r\nexport function getValueType(val) {\r\n  let type = enumValueType.basic;\r\n  if (isObject(val)) {\r\n    type = enumValueType.object;\r\n  }\r\n  if (Array.isArray(val)) {\r\n    type = enumValueType.array;\r\n  }\r\n}\r\n/**\r\n * 比较两个值是否相等\r\n * @param {*} A\r\n * @param {*} B\r\n */\r\nexport function valueEqual(valueA, valueB) {\r\n  const valueAType = getValueType(valueA);\r\n  const valueBType = getValueType(valueB);\r\n\r\n  // 类型不相等的肯定不一样\r\n  if (valueAType !== valueBType) {\r\n    return false;\r\n  }\r\n\r\n  // 基础类型直接全等判断\r\n  if (valueAType === enumValueType.basic) {\r\n    return valueA === valueB;\r\n  }\r\n\r\n  // 对象的递归调用\r\n  if (valueAType === enumValueType.object) {\r\n    const keys = Object.keys(valueA);\r\n    for (let i = 0, len = keys.length; i < len; i++) {\r\n      const key = keys[i];\r\n      const isEqual = valueEqual(valueA[key], valueB[key]);\r\n      if (!isEqual) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  // 数组先判断长度，然后再判断每一个值\r\n  if (valueAType === enumValueType.array) {\r\n    if (valueA.length === valueB.length) {\r\n      for (let i = 0, len = valueA.length; i < len; i++) {\r\n        const isEqual = valueEqual(valueA[i], valueB[i]);\r\n        if (!isEqual) {\r\n          return false;\r\n        }\r\n      }\r\n    } else {\r\n      return falsei;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n// 添加首部的 /\r\nexport function addLeadingSlash(path) {\r\n  return path.charAt(0) === \"/\" ? path : \"/\" + path;\r\n}\r\n// 去除首部的 /\r\nexport function stripLeadingSlash(path) {\r\n  return path.charAt(0) === \"/\" ? path.substr(1) : path;\r\n}\r\n// 去除尾部的 /\r\nexport function stripTrailingSlash(path) {\r\n  return path.charAt(path.length - 1) === \"/\" ? path.slice(0, -1) : path;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(\"./src/index.js\");\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""},"metadata":{},"sourceType":"script"}